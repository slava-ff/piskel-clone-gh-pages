!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=17)}([function(e,n,t){var r;!function(t,o,i,a){"use strict";var s,l={URL:t.URL||t.webkitURL||t.mozURL||t.msURL,getUserMedia:(s=i.getUserMedia||i.webkitGetUserMedia||i.mozGetUserMedia||i.msGetUserMedia,s?s.bind(i):s),requestAnimFrame:t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame,requestTimeout:function(e,n){if(e=e||l.noop,n=n||0,!l.requestAnimFrame)return setTimeout(e,n);var t=(new Date).getTime(),r=new Object,o=l.requestAnimFrame;return r.value=o(function i(){(new Date).getTime()-t>=n?e.call():r.value=o(i)}),r},Blob:t.Blob||t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,btoa:function(){var e=t.btoa||function(e){for(var n="",t=0,r=e.length,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i=void 0,a=void 0,s=void 0,l=void 0,c=void 0,d=void 0,f=void 0;t<r;)l=(i=e.charCodeAt(t++))>>2,c=(3&i)<<4|(a=e.charCodeAt(t++))>>4,d=(15&a)<<2|(s=e.charCodeAt(t++))>>6,f=63&s,isNaN(a)?d=f=64:isNaN(s)&&(f=64),n=n+o.charAt(l)+o.charAt(c)+o.charAt(d)+o.charAt(f);return n};return e?e.bind(t):l.noop}(),isObject:function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},isEmptyObject:function(e){return l.isObject(e)&&!Object.keys(e).length},isArray:function(e){return e&&Array.isArray(e)},isFunction:function(e){return e&&"function"==typeof e},isElement:function(e){return e&&1===e.nodeType},isString:function(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)},isSupported:{canvas:function(){var e=o.createElement("canvas");return e&&e.getContext&&e.getContext("2d")},webworkers:function(){return t.Worker},blob:function(){return l.Blob},Uint8Array:function(){return t.Uint8Array},Uint32Array:function(){return t.Uint32Array},videoCodecs:function(){var e=o.createElement("video"),n={mp4:!1,h264:!1,ogv:!1,ogg:!1,webm:!1};try{e&&e.canPlayType&&(n.mp4=""!==e.canPlayType('video/mp4; codecs="mp4v.20.8"'),n.h264=""!==(e.canPlayType('video/mp4; codecs="avc1.42E01E"')||e.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),n.ogv=""!==e.canPlayType('video/ogg; codecs="theora"'),n.ogg=""!==e.canPlayType('video/ogg; codecs="theora"'),n.webm=-1!==e.canPlayType('video/webm; codecs="vp8, vorbis"'))}catch(e){}return n}()},noop:function(){},each:function(e,n){var t=void 0,r=void 0;if(l.isArray(e))for(t=-1,r=e.length;++t<r&&!1!==n(t,e[t]););else if(l.isObject(e))for(t in e)if(e.hasOwnProperty(t)&&!1===n(t,e[t]))break},mergeOptions:function(e,n){if(l.isObject(e)&&l.isObject(n)&&Object.keys){var t={};return l.each(e,function(n,r){t[n]=e[n]}),l.each(n,function(r,o){var i=n[r];l.isObject(i)&&e[r]?t[r]=l.mergeOptions(e[r],i):t[r]=i}),t}},setCSSAttr:function(e,n,t){l.isElement(e)&&(l.isString(n)&&l.isString(t)?e.style[n]=t:l.isObject(n)&&l.each(n,function(n,t){e.style[n]=t}))},removeElement:function(e){l.isElement(e)&&e.parentNode&&e.parentNode.removeChild(e)},createWebWorker:function(e){if(!l.isString(e))return{};try{var n=new l.Blob([e],{type:"text/javascript"}),t=l.URL.createObjectURL(n);return{objectUrl:t,worker:new Worker(t)}}catch(e){return""+e}},getExtension:function(e){return e.substr(e.lastIndexOf(".")+1,e.length)},getFontSize:function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{};if(!o.body||!1===e.resizeFont)return e.fontSize;var n=e.text,t=e.gifWidth,r=parseInt(e.fontSize,10),i=parseInt(e.minFontSize,10),s=o.createElement("div"),l=o.createElement("span");for(s.setAttribute("width",t),s.appendChild(l),l.innerHTML=n,l.style.fontSize=r+"px",l.style.textIndent="-9999px",l.style.visibility="hidden",o.body.appendChild(l);l.offsetWidth>t&&r>=i;)l.style.fontSize=--r+"px";return o.body.removeChild(l),r+"px"},webWorkerError:!1},c=Object.freeze({default:l}),d={validate:function(e){e=l.isObject(e)?e:{};var n={};return l.each(d.validators,function(t,r){var o=r.errorCode;if(!e[o]&&!r.condition)return(n=r).error=!0,!1}),delete n.condition,n},isValid:function(e){var n=!0!==d.validate(e).error;return n},validators:[{condition:l.isFunction(l.getUserMedia),errorCode:"getUserMedia",errorMsg:"The getUserMedia API is not supported in your browser"},{condition:l.isSupported.canvas(),errorCode:"canvas",errorMsg:"Canvas elements are not supported in your browser"},{condition:l.isSupported.webworkers(),errorCode:"webworkers",errorMsg:"The Web Workers API is not supported in your browser"},{condition:l.isFunction(l.URL),errorCode:"window.URL",errorMsg:"The window.URL API is not supported in your browser"},{condition:l.isSupported.blob(),errorCode:"window.Blob",errorMsg:"The window.Blob File API is not supported in your browser"},{condition:l.isSupported.Uint8Array(),errorCode:"window.Uint8Array",errorMsg:"The window.Uint8Array function constructor is not supported in your browser"},{condition:l.isSupported.Uint32Array(),errorCode:"window.Uint32Array",errorMsg:"The window.Uint32Array function constructor is not supported in your browser"}],messages:{videoCodecs:{errorCode:"videocodec",errorMsg:"The video codec you are trying to use is not supported in your browser"}}},f=Object.freeze({default:d}),u=function(){},g={sampleInterval:10,numWorkers:2,filter:"",gifWidth:200,gifHeight:200,interval:.1,numFrames:10,frameDuration:1,keepCameraOn:!1,images:[],video:null,webcamVideoElement:null,cameraStream:null,text:"",fontWeight:"normal",fontSize:"16px",minFontSize:"10px",resizeFont:!1,fontFamily:"sans-serif",fontColor:"#ffffff",textAlign:"center",textBaseline:"bottom",textXCoordinate:null,textYCoordinate:null,progressCallback:u,completeCallback:u,saveRenderingContexts:!1,savedRenderingContexts:[],crossOrigin:"Anonymous"},m=Object.freeze({default:g});function h(){return d.isValid()}function p(){var e,n,t,r,o,i=256,a=499,s=491,l=487,c=503,d=3*c,f=i-1,u=4,g=100,m=16,h=1<<m,p=10,A=10,v=h>>A,b=h<<p-A,w=6,y=(i>>3)*(1<<w),B=30,C=1024,x=256,E=1<<18,D=[],F=[],I=[],S=[];function R(e,n,t,r,a){var s,l,c,d,f,u,g;for((c=n-e)<-1&&(c=-1),(d=n+e)>i&&(d=i),s=n+1,l=n-1,u=1;s<d||l>c;){if(f=S[u++],s<d){g=o[s++];try{g[0]-=f*(g[0]-t)/E|0,g[1]-=f*(g[1]-r)/E|0,g[2]-=f*(g[2]-a)/E|0}catch(e){}}if(l>c){g=o[l--];try{g[0]-=f*(g[0]-t)/E|0,g[1]-=f*(g[1]-r)/E|0,g[2]-=f*(g[2]-a)/E|0}catch(e){}}}}function k(e,n,t,r,i){var a=o[n],s=e/C;a[0]-=s*(a[0]-t)|0,a[1]-=s*(a[1]-r)|0,a[2]-=s*(a[2]-i)|0}function T(e,n,t){var r,a,s,l,c,d,f,g,h,w;for(h=g=~(1<<31),f=d=-1,r=0;r<i;r++)(a=(w=o[r])[0]-e)<0&&(a=-a),(s=w[1]-n)<0&&(s=-s),a+=s,(s=w[2]-t)<0&&(s=-s),(a+=s)<g&&(g=a,d=r),(l=a-(F[r]>>m-u))<h&&(h=l,f=r),c=I[r]>>A,I[r]-=c,F[r]+=c<<p;return I[d]+=v,F[d]-=b,f}(function(e,a,s){var l,c;for(n=e,t=a,r=s,o=new Array(i),l=0;l<i;l++)o[l]=new Array(4),(c=o[l])[0]=c[1]=c[2]=(l<<u+8)/i|0,I[l]=h/i|0,F[l]=0}).apply(this,arguments);var U={map:function(e,n,t){var r,a,s,l,c,d,f;for(c=1e3,f=-1,a=(r=D[n])-1;r<i||a>=0;)r<i&&((s=(d=o[r])[1]-n)>=c?r=i:(r++,s<0&&(s=-s),(l=d[0]-e)<0&&(l=-l),(s+=l)<c&&((l=d[2]-t)<0&&(l=-l),(s+=l)<c&&(c=s,f=d[3])))),a>=0&&((s=n-(d=o[a])[1])>=c?a=-1:(a--,s<0&&(s=-s),(l=d[0]-e)<0&&(l=-l),(s+=l)<c&&((l=d[2]-t)<0&&(l=-l),(s+=l)<c&&(c=s,f=d[3]))));return f}};return U.process=function(){return function(){var o,i,f,m,h,p,A,v,b,E,D,F,I,U;for(t<d&&(r=1),e=30+(r-1)/3,F=n,I=0,U=t,E=(D=t/(3*r))/g|0,v=C,(A=(p=y)>>w)<=1&&(A=0),o=0;o<A;o++)S[o]=v*((A*A-o*o)*x/(A*A));for(b=t<d?3:t%a!=0?3*a:t%s!=0?3*s:t%l!=0?3*l:3*c,o=0;o<D;)if(k(v,i=T(f=(255&F[I+0])<<u,m=(255&F[I+1])<<u,h=(255&F[I+2])<<u),f,m,h),0!==A&&R(A,i,f,m,h),(I+=b)>=U&&(I-=t),0===E&&(E=1),++o%E==0)for(v-=v/e,(A=(p-=p/B)>>w)<=1&&(A=0),i=0;i<A;i++)S[i]=v*((A*A-i*i)*x/(A*A))}(),function(){var e;for(e=0;e<i;e++)o[e][0]>>=u,o[e][1]>>=u,o[e][2]>>=u,o[e][3]=e}(),function(){var e,n,t,r,a,s,l,c;for(l=0,c=0,e=0;e<i;e++){for(t=e,r=(a=o[e])[1],n=e+1;n<i;n++)(s=o[n])[1]<r&&(t=n,r=s[1]);if(s=o[t],e!=t&&(n=s[0],s[0]=a[0],a[0]=n,n=s[1],s[1]=a[1],a[1]=n,n=s[2],s[2]=a[2],a[2]=n,n=s[3],s[3]=a[3],a[3]=n),r!=l){for(D[l]=c+e>>1,n=l+1;n<r;n++)D[n]=e;l=r,c=e}}for(D[l]=c+f>>1,n=l+1;n<256;n++)D[n]=f}(),function(){for(var e=[],n=new Array(i),t=0;t<i;t++)n[o[t][3]]=t;for(var r=0,a=0;a<i;a++){var s=n[a];e[r++]=o[s][0],e[r++]=o[s][1],e[r++]=o[s][2]}return e}()},U}function A(){try{this.onmessage=function(n){var t,r=n.data||{};r.gifshot&&(t=e.run(r),postMessage(t))}}catch(e){}var e={dataToRGB:function(e,n,t){for(var r=n*t*4,o=0,i=[];o<r;)i.push(e[o++]),i.push(e[o++]),i.push(e[o++]),o++;return i},componentizedPaletteToArray:function(e){e=e||[];for(var n=[],t=0;t<e.length;t+=3){var r=e[t],o=e[t+1],i=e[t+2];n.push(r<<16|o<<8|i)}return n},processFrameWithQuantizer:function(e,n,t,r){for(var o=this.dataToRGB(e,n,t),i=new p(o,o.length,r),a=i.process(),s=new Uint32Array(this.componentizedPaletteToArray(a)),l=n*t,c=new Uint8Array(l),d=0,f=0;f<l;f++){var u=o[d++],g=o[d++],m=o[d++];c[f]=i.map(u,g,m)}return{pixels:c,palette:s}},run:function(e){var n=e=e||{},t=n.height,r=(n.palette,n.sampleInterval),o=n.width,i=e.data;return this.processFrameWithQuantizer(i,o,t,r)}};return e}function v(e,n,t,r){var o=0,i=(r=r===a?{}:r).loop===a?null:r.loop,s=r.palette===a?null:r.palette;if(n<=0||t<=0||n>65535||t>65535)throw"Width/Height invalid.";e[o++]=71,e[o++]=73,e[o++]=70,e[o++]=56,e[o++]=57,e[o++]=97;if(e[o++]=255&n,e[o++]=n>>8&255,e[o++]=255&t,e[o++]=t>>8&255,e[o++]=0|(null!==s?128:0),e[o++]=0,e[o++]=0,null!==i){if(i<0||i>65535)throw"Loop count invalid.";e[o++]=33,e[o++]=255,e[o++]=11,e[o++]=78,e[o++]=69,e[o++]=84,e[o++]=83,e[o++]=67,e[o++]=65,e[o++]=80,e[o++]=69,e[o++]=50,e[o++]=46,e[o++]=48,e[o++]=3,e[o++]=1,e[o++]=255&i,e[o++]=i>>8&255,e[o++]=0}var l=!1;this.addFrame=function(n,t,r,i,c,d){if(!0===l&&(--o,l=!1),d=d===a?{}:d,n<0||t<0||n>65535||t>65535)throw"x/y invalid.";if(r<=0||i<=0||r>65535||i>65535)throw"Width/Height invalid.";if(c.length<r*i)throw"Not enough pixels for the frame size.";var f=!0,u=d.palette;if(u!==a&&null!==u||(f=!1,u=s),u===a||null===u)throw"Must supply either a local or global palette.";for(var g=function(e){var n=e.length;if(n<2||n>256||n&n-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return n}(u),m=0;g>>=1;)++m;g=1<<m;var h=d.delay===a?0:d.delay,p=d.disposal===a?0:d.disposal;if(p<0||p>3)throw"Disposal out of range.";var A=!1,v=0;if(d.transparent!==a&&null!==d.transparent&&(A=!0,(v=d.transparent)<0||v>=g))throw"Transparent color index.";if((0!==p||A||0!==h)&&(e[o++]=33,e[o++]=249,e[o++]=4,e[o++]=p<<2|(!0===A?1:0),e[o++]=255&h,e[o++]=h>>8&255,e[o++]=v,e[o++]=0),e[o++]=44,e[o++]=255&n,e[o++]=n>>8&255,e[o++]=255&t,e[o++]=t>>8&255,e[o++]=255&r,e[o++]=r>>8&255,e[o++]=255&i,e[o++]=i>>8&255,e[o++]=!0===f?128|m-1:0,!0===f)for(var b=0,w=u.length;b<w;++b){var y=u[b];e[o++]=y>>16&255,e[o++]=y>>8&255,e[o++]=255&y}o=function(e,n,t,r){e[n++]=t;var o=n++,i=1<<t,s=i-1,l=i+1,c=l+1,d=t+1,f=0,u=0;function g(t){for(;f>=t;)e[n++]=255&u,u>>=8,f-=8,n===o+256&&(e[o]=255,o=n++)}function m(e){u|=e<<f,f+=d,g(8)}var h=r[0]&s,p={};m(i);for(var A=1,v=r.length;A<v;++A){var b=r[A]&s,w=h<<8|b,y=p[w];if(y===a){for(u|=h<<f,f+=d;f>=8;)e[n++]=255&u,u>>=8,f-=8,n===o+256&&(e[o]=255,o=n++);4096===c?(m(i),c=l+1,d=t+1,p={}):(c>=1<<d&&++d,p[w]=c++),h=b}else h=y}m(h),m(l),g(1),o+1===n?e[o]=0:(e[o]=n-o-1,e[n++]=0);return n}(e,o,m<2?2:m,c)},this.end=function(){return!1===l&&(e[o++]=59,l=!0),o}}var b=function(){},w=function(e){this.canvas=null,this.ctx=null,this.repeat=0,this.frames=[],this.numRenderedFrames=0,this.onRenderCompleteCallback=b,this.onRenderProgressCallback=b,this.workers=[],this.availableWorkers=[],this.generatingGIF=!1,this.options=e,this.initializeWebWorkers(e)};w.prototype={workerMethods:A(),initializeWebWorkers:function(e){var n,t=p.toString()+"("+A.toString()+"());",r=void 0,i=void 0,a=void 0,s=-1,c="";for(n=e.numWorkers;++s<n;)r=l.createWebWorker(t),l.isObject(r)?(i=r.objectUrl,a=r.worker,this.workers.push({worker:a,objectUrl:i}),this.availableWorkers.push(a)):(c=r,l.webWorkerError=!!r);this.workerError=c,this.canvas=o.createElement("canvas"),this.canvas.width=e.gifWidth,this.canvas.height=e.gifHeight,this.ctx=this.canvas.getContext("2d"),this.frames=[]},getWorker:function(){return this.availableWorkers.pop()},freeWorker:function(e){this.availableWorkers.push(e)},byteMap:function(){for(var e=[],n=0;n<256;n++)e[n]=String.fromCharCode(n);return e}(),bufferToString:function(e){for(var n=e.length,t="",r=-1;++r<n;)t+=this.byteMap[e[r]];return t},onFrameFinished:function(e){var n=this,t=n.frames,r=!!(n.options.images||[]).length,o=t.every(function(e){return!e.beingProcessed&&e.done});n.numRenderedFrames++,r&&e(n.numRenderedFrames/t.length),n.onRenderProgressCallback(.75*n.numRenderedFrames/t.length),o?n.generatingGIF||n.generateGIF(t,n.onRenderCompleteCallback):l.requestTimeout(function(){n.processNextFrame()},1)},processFrame:function(e){var n=this,t=(this.options,this.options),r=t.progressCallback,o=t.sampleInterval,i=this.frames,s=void 0,l=void 0,c=function(){var e=(arguments.length>0&&arguments[0]!==a?arguments[0]:{}).data;delete s.data,s.pixels=Array.prototype.slice.call(e.pixels),s.palette=Array.prototype.slice.call(e.palette),s.done=!0,s.beingProcessed=!1,n.freeWorker(l),n.onFrameFinished(r)};(s=i[e]).beingProcessed||s.done?this.onFrameFinished():(s.sampleInterval=o,s.beingProcessed=!0,s.gifshot=!0,(l=this.getWorker())?(l.onmessage=c,l.postMessage(s)):c({data:n.workerMethods.run(s)}))},startRendering:function(e){this.onRenderCompleteCallback=e;for(var n=0;n<this.options.numWorkers&&n<this.frames.length;n++)this.processFrame(n)},processNextFrame:function(){for(var e=-1,n=0;n<this.frames.length;n++){var t=this.frames[n];if(!t.done&&!t.beingProcessed){e=n;break}}e>=0&&this.processFrame(e)},generateGIF:function(e,n){var t=[],r={loop:this.repeat},o=this.options,i=o.interval,a=o.frameDuration,s=!!o.images.length,c=o.gifHeight,d=o.gifWidth,f=new v(t,d,c,r),u=this.onRenderProgressCallback,g=s?100*i:0,m=void 0;this.generatingGIF=!0,l.each(e,function(n,t){var r=t.palette;u(.75+.25*t.position*1/e.length);for(var o=0;o<a;o++)f.addFrame(0,0,d,c,t.pixels,{palette:r,delay:g})}),f.end(),u(1),this.frames=[],this.generatingGIF=!1,l.isFunction(n)&&(m=this.bufferToString(t),n("data:image/gif;base64,"+l.btoa(m)))},setRepeat:function(e){this.repeat=e},addFrame:function(e,n){n=l.isObject(n)?n:{};var t=this.ctx,r=this.options,o=r.gifWidth,i=r.gifHeight,a=l.getFontSize(n),s=n,c=s.filter,d=s.fontColor,f=s.fontFamily,u=s.fontWeight,g=(s.gifHeight,s.gifWidth,s.text),m=s.textAlign,h=s.textBaseline,p=n.textXCoordinate?n.textXCoordinate:"left"===m?1:"right"===m?o:o/2,A=n.textYCoordinate?n.textYCoordinate:"top"===h?1:"center"===h?i/2:i,v=u+" "+a+" "+f,b=void 0;try{t.filter=c,t.drawImage(e,0,0,o,i),g&&(t.font=v,t.fillStyle=d,t.textAlign=m,t.textBaseline=h,t.fillText(g,p,A)),b=t.getImageData(0,0,o,i),this.addFrameImageData(b)}catch(e){return""+e}},addFrameImageData:function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},n=this.frames,t=e.data;this.frames.push({data:t,width:e.width,height:e.height,palette:null,dithering:null,done:!1,beingProcessed:!1,position:n.length})},onRenderProgress:function(e){this.onRenderProgressCallback=e},isRendering:function(){return this.generatingGIF},getBase64GIF:function(e){var n=this;n.startRendering(function(t){n.destroyWorkers(),l.requestTimeout(function(){e(t)},0)})},destroyWorkers:function(){if(!this.workerError){var e=this.workers;l.each(e,function(e,n){var t=n.worker,r=n.objectUrl;t.terminate(),l.URL.revokeObjectURL(r)})}}};var y=function(){},B={getGIF:function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},n=arguments[1];n=l.isFunction(n)?n:y;var t=o.createElement("canvas"),r=void 0,i=!!e.images.length,s=e.cameraStream,c=e.crop,d=e.filter,f=e.fontColor,u=e.fontFamily,g=e.fontWeight,m=e.keepCameraOn,h=(e.numWorkers,e.progressCallback),p=e.saveRenderingContexts,A=e.savedRenderingContexts,v=e.text,b=e.textAlign,B=e.textBaseline,C=e.videoElement,x=e.videoHeight,E=e.videoWidth,D=e.webcamVideoElement,F=Number(e.gifWidth),I=Number(e.gifHeight),S=Number(e.interval),R=(Number(e.sampleInterval),i?0:1e3*S),k=[],T=A.length?A.length:e.numFrames,U=T,L=new w(e),M=l.getFontSize(e),O=e.textXCoordinate?e.textXCoordinate:"left"===b?1:"right"===b?F:F/2,P=e.textYCoordinate?e.textYCoordinate:"top"===B?1:"center"===B?I/2:I,V=g+" "+M+" "+u,W=c?Math.floor(c.scaledWidth/2):0,G=c?E-c.scaledWidth:0,Y=c?Math.floor(c.scaledHeight/2):0,j=c?x-c.scaledHeight:0;T=T!==a?T:10,S=S!==a?S:.1,t.width=F,t.height=I,r=t.getContext("2d"),function e(){A.length||0!==C.currentTime?function e(){var t=U-1;function o(){var o;p&&k.push(r.getImageData(0,0,F,I)),v&&(r.font=V,r.fillStyle=f,r.textAlign=b,r.textBaseline=B,r.fillText(v,O,P)),o=r.getImageData(0,0,F,I),L.addFrameImageData(o),h((T-(U=t))/T),t>0&&l.requestTimeout(e,R),U||L.getBase64GIF(function(e){n({error:!1,errorCode:"",errorMsg:"",image:e,cameraStream:s,videoElement:C,webcamVideoElement:D,savedRenderingContexts:k,keepCameraOn:m})})}A.length?(r.putImageData(A[T-U],0,0),o()):function e(){try{G>E&&(G=E),j>x&&(j=x),W<0&&(W=0),Y<0&&(Y=0),r.filter=d,r.drawImage(C,W,Y,G,j,0,0,F,I),o()}catch(n){if("NS_ERROR_NOT_AVAILABLE"!==n.name)throw n;l.requestTimeout(e,100)}}()}():l.requestTimeout(e,100)}()},getCropDimensions:function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},n=e.videoWidth,t=e.videoHeight,r=e.gifWidth,o=e.gifHeight,i={width:0,height:0,scaledWidth:0,scaledHeight:0};return n>t?(i.width=Math.round(n*(o/t))-r,i.scaledWidth=Math.round(i.width*(t/o))):(i.height=Math.round(t*(r/n))-o,i.scaledHeight=Math.round(i.height*(n/r))),i}},C={loadedData:!1,defaultVideoDimensions:{width:640,height:480},findVideoSize:function e(n){e.attempts=e.attempts||0;var t=n.cameraStream,r=n.completedCallback,o=n.videoElement;o&&(o.videoWidth>0&&o.videoHeight>0?(o.removeEventListener("loadeddata",C.findVideoSize),r({videoElement:o,cameraStream:t,videoWidth:o.videoWidth,videoHeight:o.videoHeight})):e.attempts<10?(e.attempts+=1,l.requestTimeout(function(){C.findVideoSize(n)},400)):r({videoElement:o,cameraStream:t,videoWidth:C.defaultVideoDimensions.width,videoHeight:C.defaultVideoDimensions.height}))},onStreamingTimeout:function(e){l.isFunction(e)&&e({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - Timed out while trying to start streaming",image:null,cameraStream:{}})},stream:function(e){var n=l.isArray(e.existingVideo)?e.existingVideo[0]:e.existingVideo,t=e.cameraStream,r=e.completedCallback,o=e.streamedCallback,i=e.videoElement;if(l.isFunction(o)&&o(),n){if(l.isString(n))i.src=n,i.innerHTML='<source src="'+n+'" type="video/'+l.getExtension(n)+'" />';else if(n instanceof Blob){try{i.src=l.URL.createObjectURL(n)}catch(e){}i.innerHTML='<source src="'+n+'" type="'+n.type+'" />'}}else if(i.mozSrcObject)i.mozSrcObject=t;else if(l.URL)try{i.srcObject=t,i.src=l.URL.createObjectURL(t)}catch(e){i.srcObject=t}i.play(),l.requestTimeout(function e(){e.count=e.count||0,!0===C.loadedData?(C.findVideoSize({videoElement:i,cameraStream:t,completedCallback:r}),C.loadedData=!1):(e.count+=1)>10?C.findVideoSize({videoElement:i,cameraStream:t,completedCallback:r}):e()},0)},startStreaming:function(e){var n=l.isFunction(e.error)?e.error:l.noop,t=l.isFunction(e.streamed)?e.streamed:l.noop,r=l.isFunction(e.completed)?e.completed:l.noop,i=e.crossOrigin,a=e.existingVideo,s=e.lastCameraStream,c=e.options,d=e.webcamVideoElement,f=l.isElement(a)?a:d||o.createElement("video");i&&(f.crossOrigin=c.crossOrigin),f.autoplay=!0,f.loop=!0,f.muted=!0,f.addEventListener("loadeddata",function(e){C.loadedData=!0,c.offset&&(f.currentTime=c.offset)}),a?C.stream({videoElement:f,existingVideo:a,completedCallback:r}):s?C.stream({videoElement:f,cameraStream:s,streamedCallback:t,completedCallback:r}):l.getUserMedia({video:!0},function(e){C.stream({videoElement:f,cameraStream:e,streamedCallback:t,completedCallback:r})},n)},startVideoStreaming:function(e){var n=arguments.length>1&&arguments[1]!==a?arguments[1]:{},t=n.timeout!==a?n.timeout:0,r=n.callback,o=n.webcamVideoElement,i=void 0;t>0&&(i=l.requestTimeout(function(){C.onStreamingTimeout(r)},1e4)),C.startStreaming({error:function(){r({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - the user probably denied permission",image:null,cameraStream:{}})},streamed:function(){clearTimeout(i)},completed:function(){var n=arguments.length>0&&arguments[0]!==a?arguments[0]:{},t=n.cameraStream,r=n.videoElement,o=n.videoHeight,i=n.videoWidth;e({cameraStream:t,videoElement:r,videoHeight:o,videoWidth:i})},lastCameraStream:n.lastCameraStream,webcamVideoElement:o,crossOrigin:n.crossOrigin,options:n})},stopVideoStreaming:function(e){var n=e=l.isObject(e)?e:{},t=n.keepCameraOn,r=n.videoElement,o=n.webcamVideoElement,i=e.cameraStream||{},a=i.getTracks&&i.getTracks()||[],s=!!a.length,c=a[0];!t&&s&&l.isFunction(c.stop)&&c.stop(),l.isElement(r)&&!o&&(r.pause(),l.isFunction(l.URL.revokeObjectURL)&&!l.webWorkerError&&r.src&&l.URL.revokeObjectURL(r.src),l.removeElement(r))}};function x(e){e=l.isObject(e)?e:{},C.stopVideoStreaming(e)}function E(e,n){var t=e.options||{},r=t.images,i=t.video,a=Number(t.gifWidth),s=Number(t.gifHeight),c=(Number(t.numFrames),e.cameraStream),d=e.videoElement,f=e.videoWidth,u=e.videoHeight,g=B.getCropDimensions({videoWidth:f,videoHeight:u,gifHeight:s,gifWidth:a}),m=n;t.crop=g,t.videoElement=d,t.videoWidth=f,t.videoHeight=u,t.cameraStream=c,l.isElement(d)&&(d.width=a+g.width,d.height=s+g.height,t.webcamVideoElement||(l.setCSSAttr(d,{position:"fixed",opacity:"0"}),o.body.appendChild(d)),d.play(),B.getGIF(t,function(e){r&&r.length||i&&i.length||x(e),m(e)}))}function D(e,n){if(n=l.isFunction(e)?e:n,e=l.isObject(e)?e:{},l.isFunction(n)){var t=l.mergeOptions(g,e)||{},r=e.cameraStream,i=t.images,s=i?i.length:0,c=t.video,f=t.webcamVideoElement;t=l.mergeOptions(t,{gifWidth:Math.floor(t.gifWidth),gifHeight:Math.floor(t.gifHeight)}),s?function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},n=e.callback,t=e.images,r=e.options,i=e.imagesLength,s=d.validate({getUserMedia:!0,"window.URL":!0}),c=[],f=0,u=void 0,g=void 0;if(s.error)return n(s);function m(){l.each(c,function(e,n){n&&(n.text?g.addFrame(n.img,r,n.text):g.addFrame(n,r))}),function(e,n){e.getBase64GIF(function(e){n({error:!1,errorCode:"",errorMsg:"",image:e})})}(g,n)}g=new w(r),l.each(t,function(e,t){var a=t;t.src&&(a=a.src),l.isElement(a)?(r.crossOrigin&&(a.crossOrigin=r.crossOrigin),c[e]=a,(f+=1)===i&&m()):l.isString(a)&&(u=new Image,r.crossOrigin&&(u.crossOrigin=r.crossOrigin),function(r){t.text&&(r.text=t.text),r.onerror=function(e){var t=void 0;if(0==--i)return(t={}).error="None of the requested images was capable of being retrieved",n(t)},r.onload=function(n){t.text?c[e]={img:r,text:r.text}:c[e]=r,(f+=1)===i&&m(),l.removeElement(r)},r.src=a}(u),l.setCSSAttr(u,{position:"fixed",opacity:"0"}),o.body.appendChild(u))})}({images:i,imagesLength:s,callback:n,options:t}):c?function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},n=e.callback,t=e.existingVideo,r=e.options,o=d.validate({getUserMedia:!0,"window.URL":!0}),i=void 0,s=void 0;if(o.error)return n(o);if(l.isElement(t)&&t.src){if(s=t.src,i=l.getExtension(s),!l.isSupported.videoCodecs[i])return n(d.messages.videoCodecs)}else l.isArray(t)&&l.each(t,function(e,n){if(i=n instanceof Blob?n.type.substr(n.type.lastIndexOf("/")+1,n.length):n.substr(n.lastIndexOf(".")+1,n.length),l.isSupported.videoCodecs[i])return t=n,!1});C.startStreaming({completed:function(e){e.options=r||{},E(e,n)},existingVideo:t,crossOrigin:r.crossOrigin,options:r})}({existingVideo:c,callback:n,options:t}):function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},n=e.callback,t=e.lastCameraStream,r=e.options,o=e.webcamVideoElement;if(!h())return n(d.validate());r.savedRenderingContexts.length?B.getGIF(r,function(e){n(e)}):C.startVideoStreaming(function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{};e.options=r||{},E(e,n)},{lastCameraStream:t,callback:n,webcamVideoElement:o,crossOrigin:r.crossOrigin})}({lastCameraStream:r,callback:n,webcamVideoElement:f,options:t})}}var F={utils:c,error:f,defaultOptions:m,createGIF:D,takeSnapShot:function(e,n){if(n=l.isFunction(e)?e:n,e=l.isObject(e)?e:{},l.isFunction(n)){var t=l.mergeOptions(g,e);D(l.mergeOptions(t,{interval:.1,numFrames:1,gifWidth:Math.floor(t.gifWidth),gifHeight:Math.floor(t.gifHeight)}),n)}},stopVideoStreaming:x,isSupported:function(){return d.isValid()},isWebCamGIFSupported:h,isExistingVideoGIFSupported:function(e){var n=!1;if(l.isArray(e)&&e.length){if(l.each(e,function(e,t){l.isSupported.videoCodecs[t]&&(n=!0)}),!n)return!1}else if(l.isString(e)&&e.length&&!l.isSupported.videoCodecs[e])return!1;return d.isValid({getUserMedia:!0})},isExistingImagesGIFSupported:function(){return d.isValid({getUserMedia:!0})},VERSION:"0.4.5"};(r=function(){return F}.apply(n,[]))===a||(e.exports=r)}("undefined"!=typeof window?window:{},"undefined"!=typeof document?document:{createElement:function(){}},"undefined"!=typeof window?window.navigator:{})},function(e,n,t){var r=t(2);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(15)(r,o);r.locals&&(e.exports=r.locals)},function(e,n,t){(n=e.exports=t(3)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css?family=Titillium+Web:400,400i,700,700i&subset=latin-ext);",""]);var r=t(4),o=r(t(5)),i=r(t(6)),a=r(t(7)),s=r(t(8)),l=r(t(9)),c=r(t(10)),d=r(t(11)),f=r(t(12)),u=r(t(13)),g=r(t(14));n.push([e.i,'* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  margin: 0;\n  width: 100%;\n  height: 100%;\n  font-family: \'Titillium Web\', sans-serif;\n  background-color: rgb(29, 29, 29);\n  color: white;\n  overflow-x: hidden;\n  display: grid;\n  grid-template-rows: 5.5% 94.5%;\n}\n\n.btn:focus,\ninput:focus {\n  outline: none;\n}\n\nbutton:hover,\ninput:hover {\n  cursor: pointer;\n}\n\n.header {\n  margin: 0;\n  display: flex;\n  align-items: center;\n  font-size: 10px;\n  background-color: rgb(196, 196, 196);\n}\n\n.header #imgHeader1 {\n  margin-left: 18px;\n  margin-top: -5px;\n}\n\n.header h1 {\n  margin-left: 36px;\n  margin-top: -5px;\n}\n\n.header #logIn,\n.header #logOut {\n  font-size: 14pt;\n  background-color: #9555af;\n  color: white;\n  height: 30px;\n  width: 80px;\n  border-radius: 5px;\n  cursor: pointer;\n  border: solid 1px transparent;\n}\n\n.header #logIn {\n  margin-left: 72%;\n}\n\n.header #logOut {\n  display: none;\n  margin-left: 3px;\n}\n\n.header #userInfo {\n  font-size: 16pt;\n  display: none;\n  flex-direction: row;\n  margin-left: 832px;\n  color: #9555af;\n  border-color: currentColor;\n  background-color: white;\n  border-radius: 5px;\n  cursor: pointer;\n  border: solid 1px transparent;\n  height: 30px;\n  width: 153px;\n  align-items: center;\n}\n\n.header #userInfo #userImg {\n  width: 25px;\n  height: 25px;\n  align-items: center;\n  margin-left: 5px;\n}\n\n.header #logIn:hover,\n.header #logIn:focus,\n.header #logOut:hover,\n.header #logOut:focus {\n  color: #9555af;\n  border-color: currentColor;\n  background-color: white;\n  outline: none;\n}\n\n.header #logIn:active,\n.header #logOut:active {\n  margin-top: 2px;\n}\n\nmain {\n  margin: 0.91% 0.36% 0px 0.36%;\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  justify-content: space-between;\n}\n\nmain #landingPage {\n  display: block;\n  margin: -0.91% -0.36% 0px -0.36%;\n  padding: 0;\n  width: 100%;\n  height: 94.5%;\n  position: absolute;\n  background-color: rgb(53, 53, 53);\n  z-index: 10;\n  display: grid;\n  grid-template-areas:\n  "c s"\n  "e s"\n  "e f"\n  "a f";\n  grid-template-columns: 46% 54%;\n  grid-template-rows: 31% 31% 19% 19%;\n}\n\nmain #landingPage #create {\n  grid-area: c;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n}\n\nmain #landingPage #screenshot {\n  grid-area: s;\n}\n\nmain #landingPage #examples {\n  grid-area: e;\n}\n\nmain #landingPage #functionaily {\n  grid-area: f;\n}\n\nmain #landingPage #author {\n  grid-area: a;\n}\n\nmain #landingPage #create #start {\n  background-color: #9555af;\n  color: white;\n  height: 40px;\n  width: 110px;\n  border-radius: 10px;\n  cursor: pointer;\n  border: solid 1px transparent;\n  z-index: 11;\n  margin-top: 153px;\n  margin-left: -182px;\n}\n\nmain #landingPage #create #animation1 {\n  margin-top: 43px;\n  margin-left: -12%;\n  height: 256px;\n  width: 256px;\n}\n\nmain #landingPage #create #start:hover,\nmain #landingPage #create #start:focus {\n  color: #9555af;\n  border-color: currentColor;\n  background-color: white;\n  outline: none;\n  transition: all 0.2s;\n}\n\nmain #landingPage #create #start:active {\n  transform: scale(0.9);\n  transition: all 0.2s;\n  outline: none;\n}\n\nmain #landingPage #screenshot #screen {\n  position: relative;\n  top: 0.91%;\n  margin-left: 2%;\n  width: 94%;\n  height: width*0.532;\n  box-shadow: 0px 0px 2px 2px #9555af;\n  border-radius: 3px;\n}\n\nmain #landingPage #examples .box2 {\n  position: relative;\n  top: 33%;\n  left: 10%;\n  width: 78%;\n}\n\nmain #landingPage .box3 {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n\nmain #landingPage #examples .box2 .example {\n  position: relative;\n  top: 20px;\n  box-shadow: 0px 0px 2px 2px #9555af;\n  border-radius: 3px;\n}\n\nmain #landingPage #author {\n  margin-top: 8%;\n}\n\nmain #landingPage #author .box {\n  /* border: 2px solid #9555af; */\n  box-shadow: 0px 0px 2px 2px #9555af;\n  border-radius: 3px;\n  width: 78%;\n  margin-left: 10%;\n  padding: 1%;\n}\n\nmain #landingPage #author .box a {\n  color: gray;\n}\n\n/* main #landingPage #author .box .margin {\n  margin-left: 10px;\n} */\n\nmain #landingPage #author .box a:link,\nmain #landingPage #author .box a:visited {\n  text-decoration: none;\n}\n\nmain #landingPage #author .box a:hover,\nmain #landingPage #author .box a:active {\n  color: yellow;\n  transition: all 0.2s;\n}\n\nmain #landingPage #author .box a .contactsLogo {\n  width: 15px;\n  height: 15px;\n  position: relative;\n  top: 3px;\n}\n\nmain #leftSide {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  color: rgb(92, 92, 92);\n  font-size: 12pt;\n}\n\nmain #leftSide .leftBlock {\n  width: 110px;\n}\n\nmain #leftSide #tools {\n  height: 466px;\n}\n\nmain #leftSide #tools .btn {\n  background-color: rgb(58, 58, 58);\n  margin-right: -2px;\n  margin-top: 2px;\n}\n\nmain #leftSide #tools .btn:hover {\n  background-color: rgb(68, 68, 68);\n}\n\nmain #leftSide #tools .btn .color {\n  margin-left: 15px;\n}\n\nmain #leftSide #colors {\n  margin: 5px 0px 0px 10px;\n  height: 73px;\n  width: 73px;\n}\n\nmain #leftSide #colors .colorChoose {\n  border: 4px solid rgb(68, 68, 68);\n  height: 45px;\n  width: 45px;\n}\n\nmain #leftSide #colors .colorChoose {\n  opacity: 1;\n  -webkit-appearance: none;\n}\n\nmain #leftSide #colors .colorChoose::-webkit-color-swatch-wrapper {\n\tpadding: 0;\n}\nmain #leftSide #colors .colorChoose::-webkit-color-swatch {\n\tborder: none;\n}\n\nmain #leftSide #colors .colorChoose:hover {\n  border: 4px solid rgb(136, 136, 136);\n}\n\nmain #leftSide #colors #primaryColor {\n  margin: -72px 0px 0px 0px;\n  position: absolute;\n}\n\nmain #leftSide #colors #secondaryColor {\n  margin: 25px 0px 0px 26px;\n}\n\nmain #leftSide #colors #swapColors {\n  opacity: 0.5;\n  position: absolute;\n  margin: -23px 0px 0px 3px;\n}\n\nmain #leftSide #colors #swapColors:hover {\n  opacity: 1;\n}\n\nmain #leftSide #colors .color {\n  width: 20px;\n  height: 20px;\n  background-color: rgba(92, 92, 92, 0.5);\n  border: 1px solid black;\n  border-radius: 50%;\n}\n\nmain #frames {\n  height: 550px;\n  margin: 1%;\n  display: flex;\n  flex-direction: column;\n  overflow-y: scroll;\n  overflow-x: hidden;\n}\n\n/* width */\n::-webkit-scrollbar {\n  width: 7px;\n}\n\n/* Track */\n::-webkit-scrollbar-track {\n  box-shadow: inset 0 0 5px grey;\n  border-radius: 10px;\n}\n\n/* Handle */\n::-webkit-scrollbar-thumb {\n  background: rgb(104, 104, 104);\n  border-radius: 10px;\n}\n\nmain #frames .frameBox {\n  width: 128px;\n  height: 128px;\n  align-self: center;\n  font-size: 8pt;\n  margin: 3px 10px 3px 5px;\n  background: url('+o+");\n}\n\nmain #frames .frameBox .copy, .del, .frameNumber {\n  background-color: rgba(218, 112, 214, 0.4);\n  border-radius: 3px;\n}\n\nmain #frames .frameBox .copy {\n  position: relative;\n  bottom: -94px;\n  left: 98px;\n  z-index: 2;\n}\n\nmain #frames .frameBox .del {\n  position: relative;\n  bottom: 0px;\n  left: 66px;\n  z-index: 2;\n}\n\n.hide {\n  display: none;\n}\n\nmain #frames .frameBox .frameNumber {\n  background-color: rgba(218, 112, 214, 1);\n  width: 30px;\n  height: 34px;\n  position: relative;\n  bottom: 34px;\n  left: 0px;\n  text-align: center;\n  font-size: 14pt;\n  padding: 2px 0px 0px 0px;\n  z-index: 2;\n}\n\nmain #frames .frameBox .frame {\n  z-index: 1;\n  position: relative;\n  bottom: 68px;\n}\n\n.current {\n  outline: 2px solid orchid !important;\n  border-radius: 5px;\n}\n\nmain #frames #newFrame {\n  width: 74px;\n  height: 4px;\n  align-self: center;\n}\n\nmain #frames #newFrame #addFrame {\n  width: 110%;\n  background-color: blueviolet;\n  padding: 1%;\n  margin: 2% 0% 0% -5%;\n  border-radius: 3px;\n  border: solid 1px transparent;\n  color: white;\n}\n\nmain #frames #newFrame #addFrame:hover {\n  color: blueviolet;\n  border-color: currentColor;\n  background-color: white;\n  outline: none;\n}\n\nmain #frames #newFrame #addFrame:focus {\n  outline: none;\n}\n\nmain #frames #newFrame #addFrame:active {\n  margin-top: 4%;\n}\n\nmain #animation {\n  display: flex;\n  flex-direction: column;\n  margin-right: 5px;\n  overflow: hidden;\n}\n\nmain #animation #preview {\n  height: 25%;\n  display: flex;\n  flex-direction: column;\n}\n\nmain #animation #preview .cnvPrv {\n  height: 200px;\n  width: 200px;\n  background: url("+o+");\n}\n\nmain #animation #preview #canvasPreview {\n  margin-bottom: 80px;\n}\n\nmain #animation #preview #canvasPreview:fullscreen {\n  background-color: white;\n}\n\nmain #animation #preview .range {\n  background-color: rgb(71, 71, 71);\n  display: flex;\n  flex-direction: row;\n  align-content: center;\n  justify-content: space-between;\n  padding: 1% 3% 1% 3%;\n  font-size: 11pt;\n}\n\nmain #animation #preview #exportGif,\nmain #animation #preview #exportApng,\nmain #animation #preview #apngToGDrive,\nmain #animation #preview #apngToGDriveWait,\nmain #animation #preview #gifToGDrive,\nmain #animation #preview #gifToGDriveWait,\nmain #animation #preview #fullscreen {\n  background-color: orchid;\n  padding: 1%;\n  margin-top: 1%;\n  border-radius: 3px;\n  border: solid 1px transparent;\n  color: white;\n}\n\nmain #animation #preview #exportGif:hover,\nmain #animation #preview #exportApng:hover,\nmain #animation #preview #apngToGDrive:hover,\nmain #animation #preview #gifToGDrive:hover,\nmain #animation #preview #fullscreen:hover {\n  color: orchid;\n  border-color: currentColor;\n  background-color: white;\n  outline: none;\n}\n\nmain #animation #preview #exportGif:focus,\nmain #animation #preview #exportApng:focus,\nmain #animation #preview #apngToGDrive:focus,\nmain #animation #preview #apngToGDriveWait:focus,\nmain #animation #preview #gifToGDrive:focus,\nmain #animation #preview #gifToGDriveWait:focus,\nmain #animation #preview #fullscreen:focus {\n  outline: none;\n}\n\nmain #animation #preview #exportGif:active,\nmain #animation #preview #exportApng:active,\nmain #animation #preview #apngToGDrive:active,\nmain #animation #preview #gifToGDrive:active,\nmain #animation #preview #fullscreen:active {\n  background-color: rgb(255, 188, 253);\n  color: rgb(141, 27, 137);\n}\n\nmain #animation #preview #apngToGDriveWait,\nmain #animation #preview #gifToGDriveWait {\n  display: block;\n  background-color: rgb(77, 77, 77);\n  color: rgb(194, 194, 194);\n  border: solid 1px rgb(194, 194, 194);\n  font-size: 10pt;\n  padding: 4px;\n}\n\nmain #animation #preview #apngToGDrive,\nmain #animation #preview #gifToGDrive {\n  display: none;\n}\n\nmain #animation #preview #tranform {\n  border: 2px solid rgb(102, 102, 102);\n  margin: 3% 0% 3% 0%;\n  border-radius: 3px;\n}\n\nmain #animation #preview #tranform #tranformText {\n  text-align: center;\n}\n\nmain #animation #preview #tranform .btn {\n  background-color: rgb(58, 58, 58);\n  margin-top: 2%;\n}\n\nmain #animation #preview #tranform .btn:hover {\n  background-color: rgb(68, 68, 68);\n}\n\nmain #animation #preview #size {\n  font-size: 12pt;\n  outline: none;\n  background-color: rgb(185, 185, 185);\n  border-radius: 3px;\n  padding: 2% 0% 2% 0%;\n  cursor: pointer;\n}\n\nmain #animation #preview #size:hover {\n  background-color: rgb(216, 216, 216);\n}\n\nmain #paintArea {\n  width: 512px;\n  height: 512px;\n  border: 1px solid black;\n  background: url("+o+");\n}\n\nmain #paintArea #canvasToPaint,\nmain #paintArea #canvasToCursor {\n  position: absolute;\n}\n\nmain #paintArea #canvasToPaint {\n  opacity: 1;\n}\n\n.penCursor {\n  cursor: url("+i+") 0 7, pointer;\n}\n\n.rectangleCursor {\n  cursor: url("+a+") 0 7, pointer;\n}\n\n.circleCursor {\n  cursor: url("+s+") 0 7, pointer;\n}\n\n.eraserCursor {\n  cursor: url("+l+") 0 7, pointer;\n}\n\n.strokeCursor {\n  cursor: url("+c+") 0 7, pointer;\n}\n\n.colorpickerCursor {\n  cursor: url("+d+") 0 7, pointer;\n}\n\n.paintCursor {\n  cursor: url("+f+") 0 7, pointer;\n}\n\n.colorswapCursor {\n  cursor: url("+f+") 0 7, pointer;\n}\n\n.paintcanvasCursor {\n  cursor: url("+f+") 0 7, pointer;\n}\n\n.rainbowCursor {\n  cursor: url("+u+") 0 7, pointer;\n}\n\n.lighterCursor {\n  cursor: url("+g+") 0 7, pointer;\n}\n\ncanvas {\n  image-rendering: -moz-crisp-edges;\n  image-rendering: -webkit-crisp-edges;\n  image-rendering: pixelated;\n  image-rendering: crisp-edges;\n}\n\nbutton {\n  padding: 0;\n  border: none;\n  font: inherit;\n  color: inherit;\n  background-color: transparent;\n}\n\n.highlight {\n  outline: 2px solid orchid !important;\n}\n\ndatalist {\n  display: run-in;\n}\n",""])},function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t=function(e,n){var t=e[1]||"",r=e[3];if(!r)return t;if(n&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[t].concat(i).concat([o]).join("\n")}var a;return[t].join("\n")}(n,e);return n[2]?"@media "+n[2]+"{"+t+"}":t}).join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];null!=a[0]&&r[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]="("+a[2]+") and ("+t+")"),n.push(a))}},n}},function(e,n,t){"use strict";e.exports=function(e,n){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||n?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAHdElNRQfdBgwMARyj4nsjAAAAGnRFWHRTb2Z0d2FyZQBQYWludC5ORVQgdjMuNS4xMDD0cqEAAABbSURBVEhL7c2hDQAwDAPBDhja/VcpeZm8CsN8JOAV+czH/SALWToQZOlAkGV/gCv8CVnI0oEgSweCLPsDXOFPyEKWDgRZOhBk2R/gCn9CFrJ0IMjSgSDL8sDMA8NPxi5rZts3AAAAAElFTkSuQmCC"},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAFUSURBVDjLrZM/SAJxGIZdWwuDlnCplkAEm1zkaIiGFFpyMIwGK5KGoK2lphDKkMDg3LLUSIJsSKhIi+684CokOtTiMizCGuzEU5K3vOEgKvtBDe/2Pc8H3x8NAM1fQlx4H9M3pcOWp6TXWmM8A7j0629v1nraiAVC0IrrwATKIgs5xyG5QiE+Z4iQdoeU2oAsnqCSO1NSTu+D9VhqRLD8nIB8F0Q2MgmJDyipCzjvYJkIfpN2UBLG8MpP4dxvQ3ZzGuyyBQ2H+AnOOCBd9aL6soh81A5hyYSGWyCFvxUcerqI4S+CvYVOFPMHxLAq8I3qdHVY5LbBhJzEsCrwutpRFBlUHy6wO2tEYtWAzLELPN2P03kjfj3luqDycV2F8AgefWbEnVqEHa2IznSD6BdsVDNStB0lfh0FPoQjdx8RrAqGzC0YprSgxzsUMOY2bf37N/6Ud1Vc9yYcH50CAAAAAElFTkSuQmCC"},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAImSURBVDjLpZNNSFRxFMV/M40TjdqUqZmCn0GURSSUVFIUVhtx2SICqUXRVqptRBERtGpRC2vVwo0QEUWaUElSRDEW5EekiU1+RKKDOuPMu/e2eM+Xpq28q7P433PP4X9OwMxYzQRZ5YQWwO0no74UNcMAEcDAVFEDUReLwrVTpYElBADFG8MYhikYYGqogS0iUYXB8bnlCsQMM29Bwcww89R4RKqGqiGZFSyIuBIxQ9VbXMDqkhTIG6oTbdTn76LnwSsLpOJNPoGJug8NVBVTvKuu9GJrpza7l3Vlp4lW7GFqaBt97S23fAJHQcVQ76p73cVb6KSu/Du50YNMfuslHEiTu76InE2lUZ9AHUXUfJ/meS7gHYcrBthQeYL50VbCkQDDsT4yqfTvVHLmwF8FDoio71/VyNe3HKv6QLSqkVT8HsGwQ1ZOGTI7TGZ2rn5vc8eAHyRHBBFDVFExsic7OFLynujWRlLxuwSzMqQT5fx8GeNh4jw1zR2xJb/gOIaIm4Hs6U5qi3oprG4gPdbCmrCRmi5jrOsjzyJXiU9FlkfZEUPUCP54zP7CfsSKGf18ByXF7GQJI6+/8DRyhUQwH7EVcuA4Sv/IHEeTbeyou09/60UGurpZW7qbxMQ4z0OXmJjKwXSGxfUL/NvG6+d2Zi6fvRAiKMRePGJ46OtMtCCv7viNnp6VyrSM4OShvGRN5ebQvu0VWNZ8d3Li15mGm58G/9fGP3sKXaMRKZvBAAAAAElFTkSuQmCC"},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QAgQCiAN7OUlSAAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AgGAxkj9KrDDAAAAotJREFUOMulk0tIlFEUgL/5Z/6RMc0mKwurSVGjIimIKKgIAqMHtS1qEeQQPdy0qEWuqk0hErkci4LoQUGBC8OFQRY9CILe/k7QwxkfI6mMOq//ntNiJoseqy4cLvdwz3e/yz0X/nN4fk+0dMQrgSZVtrlG6oxRxOCISKcRbTuzb0nsn4CWjngjEAnYHopsC8sDIko2p0ykXMYmXIxo+NyB6vY/AC0d8UavRaSs2IvtsRDVfBjysyjpjGFgNEM2p+HWcE37NKCg3V9e4sVrWYgooqCSL8wHqCpuapzYcIqQ9tRvr7j83lcQaArYFr5CsSqoEUQprPO5suxr1mQvQUUtmeSbV8OfzVEfgAjbimwPprBZhHwU1EWVeaaLTUEHf9UeSitXMJVwcLovX/ABGJE6y+NFFcTkTxP9oQ1l5jVbqh1KZq8n9uIRAdsiUBzEX1xuFwA/NHVaWzR/5yIZYuuCG5RWHSI3cJ05IZveJ7fBKMmxwUUWgBh1Mln9qa2KijLTfcGu+ReZtfwIucQ1sIbwlM6ixDvO3dEdHzec7O63AIzRzomU+flsotjD92lY/JTgikZyw1fwWElyUzUMdfVwK3mYqNbfASgAaBufcEmlBVHFN/aSjZUfCNY1kB28CpIgm1xE4tFzbvrP835qMcZo2zTg7P5QzBUJD37LkBt6ySpzjXRuLuPRCCb9BaOrSfQ853bRefpG/Lgu4RvN9bE/Wvl4JNq4zNkZOXiqE+feaeKfHlBas5bJL3EeBk7Ql6nGuBq+3rxyupWtXwGt4Zr2aGySbO99QktXMcMX4uvjZ3SYY1EnXX3OdXXhr8V//Y17N5dr7YIg6+oq8Jd4304OjDTsbn0X/9d3/g7MUYm1K/4DTQAAAABJRU5ErkJggg=="},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAjJJREFUeNqkk8+LEmEYx593dlQQVPBvKAg8rAfBREITDXYHD7V0qVuXoTQwPMgSLkgXITxEUEyXZaGiW+y65KUfp6g5epdV9xY0Ooq/nZm3531zxNb11DO8PO+873ze7/d93ncIIQTsiMfjkEqlwOFwwNXCGxBwjM0KQMIUIAlACebPBsBPEygY2EQGRiIRiMVi4HK54JK4bgFN7n56+4yJVXfu2+v+YJNiJpPZBPK1LYCUVD0qdTUNrQiQrr0rfdy5t8WNAXwXYHMw+Nbu8WGpgzClaN6yoNPpwO3a+wMTQMJvbpBsNssdOJ3OZRZFcduyrPCTaxFF73a5MrNPFlk/Pwe/3w+1h/vP1xyg0vZ0Og3ncjnFSIWAoipTZg5YX2s2//YpL+KWcBGeTCbhfD6vzGYzME0T3HeTy0V+L2Cfzwcnj/Zf4OipsAqPx+NwoVBQ0AGH7ea6cxN+nZ3hGhaHq4+fvsRjPEEf34RV5WKxqGD+B2aticrWXoLDp7mDV1jAY8S+8mO0lcvlsjIajdaOot1uYw0F8Hq9sPfhtfyA0Cah5Is9LzLlSqWiDIfDNbjVai1hSZJkwzBUPMw6WflGtEFmdTWYbRtOJBIcdrvd9Ysigq7rajqdlj0eDy8Sa41Gg2c2Fo1G5X6/r+J7/bLbJqByXdM0NRgMygzCPi8WUw6FQvJgMNgI8y0s7Nd7vR4EAgF5Pp/z7Swui4rbWMJXJgS8+AtQ++jxIfyO/0f8EWAADzdBFBtx5MkAAAAASUVORK5CYII="},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AgGBQsu9mKz0AAAAfZJREFUOMul00FoE0EUBuB/Zl53zZqEQrW0iWjioRFKKLKIWKTU3pSiN8lNxLOop9iLF0/2VIqinoQclB5EjCmltWBBjCJ2hWiFqG0TTFxNQjc1tU26zY4HIZdUWHDO73vD+98M8J+HuS0szA14tqqhvPWTdTlNh2u+fM6rKoPktsHvtfCmbAYQPXsBjHNkkvFQtWjdYS5vl52B6yDfQTCuAgCc+joy05MOd4P36bdBfobi4iPYlSzsShYAwAVtM1dYraJRnIazqWLZKMHnD6Dy/SuOX3nKhCv84zHkTg7qgWNgVgn13AcMXH3O/rmFNrxdgNJzBpX0e9S+rCBy7VXLtWXwYiLiGrc1mL3VJ/Xzd13j1gj3LoVC4T5l9cjIOMyVGUT1xq74xsN8LxEbJcEjglgqfi64QABga87qiVgCexQPPiYXYVSb6O0/iVp6HnWzhCfBqdRYgn+SUh7qEFzzawIbDUcHsNB6iSoX+PVyAnrQi8/GEozXU9C6u2EcfYbAXmXE6xEaCYYdB6jbDqT86wgA0ksbODU7ibB+GlsQkLUH0MoFvI0mQZKhbDU0cw3oENwUxC0i9o6I3W9lEBvukgrnGIp0osenorx/yH6jXLZIiGUi9o2IzQvBU+MXD5u7hhi7mRkGMCoEywrBU4l4v+n2k/0BH27oPx7gDv8AAAAASUVORK5CYII="},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAcFJREFUeNpi/P//PwMlgAVEsLKyMlgC6RV//2Io+AvFIAC0yu4nA0PxV6CWzwwMPQ7//u0DG1AIdEXBv394bYJpVu3v9/v09CnDke5ubqAwxABSND/dv5/hDzs7wwcGBja4F3AAGyDOB2reC9Tsiaz56KpVJ74xMDTADbiFJSCBIhMcV6wwvhsZyYJNM9DNO+EGPHF1ZWBiYmJgZGSEG/Dv378JOyIiClwnTw54umcPVs1wA565uDCwsLAwMDMzwzSrfPjwgetHXM/6bzF6DPohIcb7Vq06DYyNzf+RNIMAE7rToZqdcourCg0VBCxOLrm0/viaNWdDw8JMgTYH/Yd4j+E/sguwad5z+dUdIR62l9s7o1+/EBCY8H3VqgKgkhqsCQkE/vz5o/zp0yfHgrJauOaiaOeTQLH9f//+vQO0cQnOlHj58mUGdnZ2246+qUUwzVnB1ke+fv16GBi4d/GlEXAYPH36VOnHPxYemOZ4D4MD7969OwS0+S5ReeHWrVvWqzZsz/bz8512+ezxD8CwOArMH/dxaeIDRjcHsgFA295Ki/L1AJkHQE5GTg/IQBgorgCk2YH4I1SMkdLsDBBgAMVE6DTxAF38AAAAAElFTkSuQmCC"},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAJVSURBVDjLlZPbS5NhHMd3tbvyov6HIJRuhKAFgRci5GXYVQkG0c6HJGvD1FVMjdxC22wlQ9iG7uBh0rtDmxtb77vFoh2c7KgMtiGbU9xdgezb3hf0Ii3cxZfngef5fn6H5/ewALD+Vv8Upeh7HfzdM+pb4QwT7PPunOg8M7tlPh63JtE/4UM3f7WnLUDL3NE7vgmFKYbeF050Di3dbQvQSrvjzogTIm0Yt0WrePp25VNbAHcgrLopXMOgyo/uR8v4bAnAbrdLLwSIRCLK1HYaHKEdnQ9MuHZ/Edv5MpYcHljc1K9Fgvo+uxqanLYEr5wBhMNhZTqdRr1ex6jOBz8VxzONC+VyGQcHB5g3rcFGZWH+lscrc9ArWdjseqzzXWLMFEWdmnO5HEwbEYzpvmKZ+IFKpYJSqQS/3w/l+4XmlCXYnHGmMfTBOzyg9lxmkSQ5RpsbjQYKhQKy2Syz7u/vM0Z6T5+73W44nU7IlOrmS9tPPJn3VfsmXVdZLfKbra0tVKtV7O7uYmdnh8mEBtCwVCqFRCIBgiCg0Wggk8ko7sdNCMwJ3JogRpgSHA6HOhqN4ujoCIeHh6jVashkMkgmk4jH4wgEApibm4NUKqVEIhH74awXrfSPbyi+dJ020Wg0vguFQtjb20M+n2eixmIxBqDX6+nIpFAoZMb63owHHCXhOvOMWq1W7fF4UCwWQZdFN9RqtdKRSYFAcPonrj/fGPznIKlUKvX6+jrTfZvNBolEQvL5fPaFJ5GWXC5XGwwGiMViksfjtfcbT9Rq1gCXy/2vmdYfaGviUGKvapgAAAAASUVORK5CYII="},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAABjSURBVDjLY/j//z8DJZiBagb8y8/+D8NgsVXF/+EYyP9wNf0/DA9SAygOgwuvN/2HYRA/4EzufxgG8RM2vP4Pw4PUAIrDIKJqw38YBvFvzr77H4bBaso3/ofjwWnAwGcmcjEAc0v+JGPFQvwAAAAASUVORK5CYII="},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AgGBAUjF5KI1AAAAetJREFUOMu9kj9oU2EUxX/fyyOvL6SmpbTWKhjpILSKEUVIqdpk0EVEcFGXDI7SUTrmZZUURFCc3BV0EIRgoS206pahVAyC1oCVVsSEVs33vTTvOiRE+kctCN7pDvece+65B/6x1G4HPz4/5taq8XJlVfUEjcCKdJY/RJ3wiL1bgu9fD/2QxgBHL2ZQlsXC04l4dblyt60gkUh4QRBktwInJ/NIS6gCBGFwb5QBt8bCszuBDTA0NOy5bkcWgemZGVLpNEoEUTA6ehqFAtUEIwqFUF58iRWyfRvAGJ3VOkyzNxitWw4pjDE7nvRmeZ1L449dG6Ber1MoFADBGNPqITWWQmtNOp0G2Wy553kA2AC+7zOSTCIKZqdnSaVT0JLr+z6FQgFpESgRBMX8/Nwvgo3GRk4bk1WANhqjdXOhAqNN8/at/1cqtykHsVjME5FtX8jn89vAjuPkMpmM1ya4fz0et7tZkv6rVFaKHBysIxtfsLtPslZ6T+3TCjcelHYMXdPESLB0bfwRHWGXqXtT7LEa7Dt+lvXSO7TzjeRvwG0CAMcKsTZ3mxP7o7wtvqb46iGRvj4u3Fr8Y9xDAF3RkDccqdB75DzBgVN8rq4iqvFXcNuDK2M9ErYszhzuor/TIdwbe3Lu5ovL/I/6CYLyw+ZJvDlBAAAAAElFTkSuQmCC"},function(e,n,t){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(e){var n={};return function(e,t){if("function"==typeof e)return e();if(void 0===n[e]){var r=function(e,n){return n?n.querySelector(e):document.querySelector(e)}.call(this,e,t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}n[e]=r}return n[e]}}(),l=null,c=0,d=[],f=t(16);function u(e,n){for(var t=0;t<e.length;t++){var r=e[t],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(v(r.parts[a],n))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(v(r.parts[a],n));i[r.id]={id:r.id,refs:1,parts:s}}}}function g(e,n){for(var t=[],r={},o=0;o<e.length;o++){var i=e[o],a=n.base?i[0]+n.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):t.push(r[a]={id:a,parts:[s]})}return t}function m(e,n){var t=s(e.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=d[d.length-1];if("top"===e.insertAt)r?r.nextSibling?t.insertBefore(n,r.nextSibling):t.appendChild(n):t.insertBefore(n,t.firstChild),d.push(n);else if("bottom"===e.insertAt)t.appendChild(n);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertAt.before,t);t.insertBefore(n,o)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var n=d.indexOf(e);n>=0&&d.splice(n,1)}function p(e){var n=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return t.nc}();r&&(e.attrs.nonce=r)}return A(n,e.attrs),m(e,n),n}function A(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})}function v(e,n){var t,r,o,i;if(n.transform&&e.css){if(!(i="function"==typeof n.transform?n.transform(e.css):n.transform.default(e.css)))return function(){};e.css=i}if(n.singleton){var a=c++;t=l||(l=p(n)),r=y.bind(null,t,a,!1),o=y.bind(null,t,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=function(e){var n=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",A(n,e.attrs),m(e,n),n}(n),r=function(e,n,t){var r=t.css,o=t.sourceMap,i=void 0===n.convertToAbsoluteUrls&&o;(n.convertToAbsoluteUrls||i)&&(r=f(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,t,n),o=function(){h(t),t.href&&URL.revokeObjectURL(t.href)}):(t=p(n),r=function(e,n){var t=n.css,r=n.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}.bind(null,t),o=function(){h(t)});return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else o()}}e.exports=function(e,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=a()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var t=g(e,n);return u(t,n),function(e){for(var r=[],o=0;o<t.length;o++){var a=t[o];(s=i[a.id]).refs--,r.push(s)}e&&u(g(e,n),n);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var b,w=(b=[],function(e,n){return b[e]=n,b.filter(Boolean).join("\n")});function y(e,n,t,r){var o=t?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(n,o);else{var i=document.createTextNode(o),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(i,a[n]):e.appendChild(i)}}},function(e,n){e.exports=function(e){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var t=n.protocol+"//"+n.host,r=t+n.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,n){var o,i=n.trim().replace(/^"(.*)"$/,function(e,n){return n}).replace(/^'(.*)'$/,function(e,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?t+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,n,t){"use strict";t.r(n);t(1);function r(e,n,t,r,o,i){!0===r?t.clearRect(e,n,1,1):(o&&(t.fillStyle=o(t,{offsetX:e,offsetY:n},!0!==i)),t.rect(e,n,1,1)),t.fill()}function o(e,n,t,o,i,a,s,l){let c,d,f,u,g,m,h;const p=t-e,A=o-n,v=Math.abs(p),b=Math.abs(A);if(f=2*b-v,u=2*v-b,b<=v)for(p>=0?(c=e,d=n,g=t):(c=t,d=o,g=e),s?r(c,d,i,a,s,l):r(c,d,i,a),h=0;c<g;h++)c+=1,f<0?f+=2*b:(p<0&&A<0||p>0&&A>0?d+=1:d-=1,f+=2*(b-v)),s?r(c,d,i,a,s,l):r(c,d,i,a);else for(A>=0?(c=e,d=n,m=o):(c=t,d=o,m=n),s?r(c,d,i,a,s,l):r(c,d,i,a),h=0;d<m;h++)d+=1,u<=0?u+=2*v:(p<0&&A<0||p>0&&A>0?c+=1:c-=1,u+=2*(v-b)),s?r(c,d,i,a,s,l):r(c,d,i,a)}function i(e,n,t){const r=e.getImageData(n.offsetX,n.offsetY,1,1).data;let o=`rgba(${r[0]}, ${r[1]}, ${r[2]}, ${r[3]/255})`;if(0!==r[3]){const e=function(e,n,t){e/=255,n/=255,t/=255;const r=Math.min(e,n,t),o=Math.max(e,n,t),i=o-r;let a=0,s=0,l=0;return a=0===i?0:o===e?(n-t)/i%6:o===n?(t-e)/i+2:(e-n)/i+4,(a=Math.round(60*a))<0&&(a+=360),l=(o+r)/2,[a,s=+(100*(s=0===i?0:i/(1-Math.abs(2*l-1)))).toFixed(1),l=+(100*l).toFixed(1)]}(r[0],r[1],r[2]);!0===t?e[2]<=95?e[2]+=5:e[2]=100:!1===t&&(e[2]>=5?e[2]-=5:e[2]=0);const n=function(e,n,t){n/=100,t/=100;const r=(1-Math.abs(2*t-1))*n,o=r*(1-Math.abs(e/60%2-1)),i=t-r/2;let a=0,s=0,l=0;return e>=0&&e<60?(a=r,s=o,l=0):e>=60&&e<120?(a=o,s=r,l=0):e>=120&&e<180?(a=0,s=r,l=o):e>=180&&e<240?(a=0,s=o,l=r):e>=240&&e<300?(a=o,s=0,l=r):e>=300&&e<360&&(a=r,s=0,l=o),[a=Math.round(255*(a+i)),s=Math.round(255*(s+i)),l=Math.round(255*(l+i))]}(e[0],e[1],e[2]);n.push(r[3]),o=`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${n[3]/255})`}return console.log("rgba:",o),o}function a(e,n,t,r,o,i){const a=t.toDataURL("image/png"),s=new Image;s.src=a,n.save(),n.clearRect(0,0,t.width,t.height),"horizontal"===e&&(n.translate(t.width,0),n.scale(-1,1)),"vertical"===e&&(n.translate(0,t.height),n.scale(1,-1)),n.drawImage(s,0,0),console.log("frame2: ",s),n.restore();const l=t.toDataURL("image/png"),c=new Image;c.src=l,n.drawImage(c,0,0),r(t,o(i()))}function s(e,n,t,r,o,i){const a=t.toDataURL("image/png"),s=new Image;s.src=a,n.save(),n.clearRect(0,0,t.width,t.height),n.translate(t.width/2,t.width/2),"right"===e&&n.rotate(90*Math.PI/180),"left"===e&&n.rotate(-90*Math.PI/180),n.drawImage(s,-t.width/2,-t.height/2),n.restore();const l=t.toDataURL("image/png"),c=new Image;c.src=l,n.drawImage(c,0,0),r(t,o(i()))}var l=t(0),c=t.n(l);function d(e){var n=this;return this.whoami="apng png animation encoder canvas",this.canvas=e,this.repeat=0,this.frame=-1,this.seqNumber=-1,this.delay_num=1,this.delay_den=1,this.dispose=0,this.blend=1,this.apngBytes,this.frameBytes,this.started=!1,this.closeStream=!1,this.start=function(){return this.started=!0,this.closeStream=!1,this.apngBytes=new f(0),this.frameBytes=new f(0),this.frame=-1,this.seqNumber=-1,0},this.setDelay=function(e){return this.delay_num=parseInt(e),this.delay_den=100,0},this.setRepeat=function(e){return e>=0&&(this.repeat=parseInt(e)),0},this.setDispose=function(e){return e<0||e>2?0:(this.dispose=parseInt(e),0)},this.setBlend=function(e){return e<0||e>1?0:(this.blend=parseInt(e),0)},this.addFrame=function(){if(null===this.canvas||!this.started||null===this.apngBytes)throw new Error("Please call start method before calling addFrame");this.frame+=1;var e=this.canvas.toDataURL("image/png").replace(/^data:image\/png;base64,/,"");if(this.frameBytes.bin=function(e){for(var n=atob(e),t=n.length,r=new Array(t),o=0;o<t;++o)r[o]=n.charCodeAt(o);return r}(e),0==this.frame){this.apngBytes.bin=this.apngBytes.bin.concat([137,80,78,71,13,10,26,10]);var n=this.frameBytes.findChunk("IHDR"),t=this.frameBytes.bin.slice(n.idx,n.idx+12+n.len);this.apngBytes.bin=this.apngBytes.bin.concat(t);var r=new Array(0),o=v((r=(r=(r=(r=r.concat([0,0,0,8])).concat(u("acTL"))).concat([0,0,0,1])).concat(m(this.repeat))).slice(4,16));r=r.concat(m(o)),this.apngBytes.bin=this.apngBytes.bin.concat(r);for(var i=this.frameBytes.findChunkAll("IDAT"),a=0;a<i.length;a++){if(0==a){this.seqNumber+=1;o=v((s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=new Array(0)).concat(m(26))).concat(u("fcTL"))).concat(m(this.seqNumber))).concat(m(this.canvas.width))).concat(m(this.canvas.height))).concat(m(0))).concat(m(0))).concat(p(this.delay_num))).concat(p(this.delay_den))).concat([this.dispose])).concat([this.blend])).slice(4,34));s=s.concat(m(o)),this.apngBytes.bin=this.apngBytes.bin.concat(s)}n=i[a];t=this.frameBytes.bin.slice(n.idx,n.idx+12+n.len);this.apngBytes.bin=this.apngBytes.bin.concat(t)}}if(this.frame>0)for(i=this.frameBytes.findChunkAll("IDAT"),a=0;a<i.length;a++){if(0==a){var s;this.seqNumber+=1;o=v((s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=new Array(0)).concat(m(26))).concat(u("fcTL"))).concat(m(this.seqNumber))).concat(m(this.canvas.width))).concat(m(this.canvas.height))).concat(m(0))).concat(m(0))).concat(p(this.delay_num))).concat(p(this.delay_den))).concat([this.dispose])).concat([this.blend])).slice(4,34));s=s.concat(m(o)),this.apngBytes.bin=this.apngBytes.bin.concat(s)}n=i[a];var l=this.frameBytes.bin.slice(n.idx+8,n.idx+8+n.len),c=n.len+4;this.seqNumber+=1;var d=new Array(0);o=v((d=(d=(d=(d=d.concat(m(c))).concat(u("fdAT"))).concat(m(this.seqNumber))).concat(l)).slice(4,8+c));d=d.concat(m(o)),this.apngBytes.bin=this.apngBytes.bin.concat(d)}return 0},this.finish=function(){if(!this.started)return!1;this.apngBytes.bin=this.apngBytes.bin.concat([0,0,0,0,73,69,78,68,174,66,96,130]);var e=this.apngBytes.findChunk("acTL"),n=m(this.frame+1);this.apngBytes.bin[e.idx+8]=n[0],this.apngBytes.bin[e.idx+8+1]=n[1],this.apngBytes.bin[e.idx+8+2]=n[2],this.apngBytes.bin[e.idx+8+3]=n[3];var t=m(v(this.apngBytes.bin.slice(e.idx+4,e.idx+4+4+8)));return this.apngBytes.bin[e.idx+4+4+8]=t[0],this.apngBytes.bin[e.idx+4+4+8+1]=t[1],this.apngBytes.bin[e.idx+4+4+8+2]=t[2],this.apngBytes.bin[e.idx+4+4+8+3]=t[3],this.started=!1,this.closeStream=!0,!0},this.stream=function(){return n.apngBytes},this}function f(e){function n(e,n,t){this.idx=e,this.len=n,this.type=t}return this.bin=new Array(e),this.findChunk=function(e){for(var t=8,r=null;t<this.bin.length;){var o=this.bin.slice(t,t+4),i=this.bin.slice(t+4,t+8),a=h(o),s=g(i);if(s===e)return r=new n(t,a,s);t+=8+a+4}return r},this.findChunkAll=function(e){for(var t=8,r=[];t<this.bin.length;){var o=this.bin.slice(t,t+4),i=this.bin.slice(t+4,t+8),a=h(o),s=g(i);if(s===e){var l=new n(t,a,s);r.push(l)}t+=8+a+4}return r},this.toStrHex=function(){return function(e){for(var n="",t=0;t<e.length;t++)n+=(r=e[t],o=2,(r+Math.pow(16,o)).toString(16).slice(-o).toUpperCase()+" ");var r,o;return n}(this.bin)},this.toStrBase64=function(){return function(e){for(var n="",t=0;t<e.length;t++)n+=String.fromCharCode(e[t]);return btoa(n)}(this.bin)},this.toStrAscii=function(){return function(e){for(var n="",t=0;t<e.length;t++)e[t]>32&&e[t]<127?n+=String.fromCharCode(e[t]):n+=".";return n}(this.bin)},this.toStrDec=function(){return function(e){for(var n="",t=0;t<e.length;t++)n+=("000"+e[t]).slice(-3),n+=" ";return n}(this.bin)},this}function u(e){var n=new Array(4);return n[0]=e.charCodeAt(0),n[1]=e.charCodeAt(1),n[2]=e.charCodeAt(2),n[3]=e.charCodeAt(3),n}function g(e){return String.fromCharCode(e[0])+String.fromCharCode(e[1])+String.fromCharCode(e[2])+String.fromCharCode(e[3])}function m(e){for(var n=e,t=[0,0,0,0],r=0;r<t.length;r++){var o=255&n;t[r]=o,n=(n-o)/256}return t.reverse()}function h(e){return(e[0]<<24)+(e[1]<<12)+(e[2]<<8)+e[3]}function p(e){for(var n=e,t=[0,0],r=0;r<t.length;r++){var o=255&n;t[r]=o,n=(n-o)/256}return t.reverse()}var A="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D".split(" ").map(function(e){return parseInt(e,16)});function v(e){if("string"==typeof e||e instanceof String)for(var n=new Array(e.length),t=0;t<e.length;t++)n[t]=e.charCodeAt(t);else{if(!Array.isArray(e))return alert("Bad input for CRC32 calculation: "+e),0;n=e}for(var r=-1,o=(t=0,n.length);t<o;t++)r=r>>>8^A[255&(r^n[t])];return(-1^r)>>>0}document.getElementById("start").onclick=function(){document.getElementById("landingPage").style.display="none"};const b=document.getElementById("frames"),w=document.getElementById("addFrame"),y=document.getElementById("newFrame"),B=document.getElementById("fullscreen"),C=document.getElementById("canvasToPaint"),x=document.getElementById("canvasToCursor"),E=document.getElementById("speedRange"),D=document.getElementById("speedRangeValue"),F=document.getElementById("cursorCoords"),I=document.getElementById("canvasPreview"),S=I.getContext("2d"),R=[];for(let e=0;e<100;e+=1){const n=`frame${e}`;R.push(n),window[`frame${e}`]=document.getElementById(n)}const k=[],T=document.getElementById("tools"),U=document.getElementById("paint"),L=document.getElementById("colorpicker"),M=document.getElementById("pen"),O=document.getElementById("rectangle"),P=document.getElementById("colorswap"),V=document.getElementById("paintcanvas"),W=document.getElementById("stroke"),G=document.getElementById("eraser"),Y=document.getElementById("lighter"),j=document.getElementById("rainbow"),N=document.getElementById("primaryColor"),X=document.getElementById("secondaryColor"),z=document.getElementById("swapColors"),H=document.getElementById("tranform"),q=document.getElementById("exportGif"),Q=document.getElementById("exportApng"),K=document.getElementById("apngToGDrive"),Z=document.getElementById("apngToGDriveWait"),J=document.getElementById("size");function $(){const e=[];for(let n=0;n<k.length;n++){const t=document.createElement("canvas");t.width=ve,t.height=ve;const r=t.getContext("2d");r.fillStyle="black",r.fillRect(0,0,ve,ve);const o=k[n],i=new Image;i.src=o,r.drawImage(i,0,0);const a=t.toDataURL("image/png"),s=new Image;s.src=a,e[n]=s}return e}function _(){const e=document.createElement("canvas");e.width=ve,e.height=ve;const n=new d(e);n.start(),n.setRepeat(0),n.setDelay(100/E.value),n.setDispose(1),n.setBlend(1);for(let t=0;t<b.children.length-1;t++){const r=De(t).getContext("2d").getImageData(0,0,ve,ve);e.getContext("2d").putImageData(r,0,0),n.addFrame(e.getContext("2d"))}n.finish();const t=n.stream();return new Blob([new Uint8Array(t.bin)],{type:"image/apng"})}q.onclick=()=>{c.a.createGIF({images:$(),interval:1/E.value},e=>{if(!e.error){const n=e.image,t=document.createElement("a");t.setAttribute("download","piskelGIF.gif"),t.setAttribute("href",n),t.click()}})},Q.onclick=()=>{const e=document.createElement("a");e.href=URL.createObjectURL(_()),e.download="piskelAPNG.apng",e.click()};const ee=document.getElementById("logIn"),ne=document.getElementById("logOut"),te=document.getElementById("userInfo"),re=document.getElementById("userImg"),oe=document.getElementById("userName"),ie="289122285352-3cb7qhvktpmmibb2l9rn8vkdfolsrsb6.apps.googleusercontent.com",ae="AIzaSyAgNTjc1d148xrWYqHNHY-z0fsv_dGP27c",se=["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],le="https://www.googleapis.com/auth/drive";function ce(){window.gapi.client.init({apiKey:ae,clientId:ie,discoveryDocs:se,scope:le}).then(()=>{console.log("init OK")},()=>console.log("init ERR"))}window.onload=function(){window.gapi.load("auth2",()=>{window.gapi.auth2.init({apiKey:ae,clientId:ie,discoveryDocs:se,scope:le}).then(()=>console.log("init OK"),()=>console.log("init ERR"))}),window.gapi.load("client:auth2",ce)},ee.onclick=()=>{window.gapi.auth2.getAuthInstance().signIn({scope:"profile email"}).then(e=>{ee.style.display="none",te.style.display="flex",ne.style.display="block",Z.style.display="none",K.style.display="block",re.src=e.getBasicProfile().getImageUrl(),oe.innerHTML=e.getBasicProfile().getName().toString(),window.gapi.client.drive.files.list({pageSize:10,fields:"nextPageToken, files(id, name)"}).then(e=>{console.log("Files:");const{files:n}=e.result;if(n&&n.length>0)for(let e=0;e<n.length;e++){const t=n[e];console.log(`${t.name} (${t.id})`)}else console.log("No files found")})},()=>{console.log("Auth ERR")})},ne.onclick=()=>{window.gapi.auth2.getAuthInstance().signOut().then(()=>{ee.style.display="block",te.style.display="none",ne.style.display="none",Z.style.display="block",K.style.display="none"},()=>{console.log("signOut ERR")})},K.onclick=()=>{!function(e,n){const t=window.gapi.auth.getToken().access_token;console.log("accessToken: ",t);const r=new FormData;r.append("metadata",new Blob([JSON.stringify(n)],{type:"application/json"})),r.append("file",e),fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",{method:"POST",headers:new Headers({Authorization:`Bearer ${t}`}),body:r}).then(e=>e.json()).then(e=>{console.log(e)})}(_(),{name:"piskelAPNG.apng",mimeType:"image/apng"})};const de=C.getContext("2d"),fe=x.getContext("2d"),ue={currentToolId:"",primaryColor:"#ffff00",secondaryColor:"#c231d2"};function ge(e,n){x.classList.remove(`${ue.currentToolId}Cursor`),O.classList.remove("highlight"),M.classList.remove("highlight"),W.classList.remove("highlight"),G.classList.remove("highlight"),V.classList.remove("highlight"),P.classList.remove("highlight"),Y.classList.remove("highlight"),j.classList.remove("highlight"),L.classList.remove("highlight"),ue.currentToolId===n.id?ue.currentToolId="":(ue.currentToolId=n.id,n.classList.add("highlight"),x.classList.add(`${n.id}Cursor`)),"pen"===ue.currentToolId&&function(e,n,t,r,o,i,a,s,l,c,d,f){let u,g,m;i.addEventListener("contextmenu",e=>{e.preventDefault()}),i.addEventListener("mousedown",e=>{"pen"===t.currentToolId&&(a.clearRect(u,g,1,1),n=!0,r.beginPath(),m=2===e.button?t.secondaryColor:t.primaryColor,r.fillStyle=m,r.fillRect(e.offsetX,e.offsetY,1,1))}),i.addEventListener("mouseup",()=>{"pen"===t.currentToolId&&(n=!1,r.beginPath(),u=!1,g=!1,c(o,d(f())))}),i.addEventListener("mouseout",()=>{"pen"===t.currentToolId&&(a.beginPath(),a.clearRect(u,g,1,1),a.fill(),e())}),i.addEventListener("mousemove",o=>{"pen"===t.currentToolId&&(e(o.offsetX,o.offsetY),!0===n&&(!1!==u&&!1!==g&&l(u,g,o.offsetX,o.offsetY,r,!1),u=o.offsetX,g=o.offsetY,r.beginPath(),r.fillStyle=m,r.fillRect(o.offsetX,o.offsetY,1,1)),!1===n&&(a.beginPath(),a.clearRect(u,g,1,1),a.fill(),u=o.offsetX,g=o.offsetY,a.fillStyle="rgba(255,255,255, 0.5)",a.fillRect(o.offsetX,o.offsetY,1,1)))})}(Be,Ue,ue,de,C,x,fe,0,o,Me,De,Ce),"eraser"===ue.currentToolId&&function(e,n,t,r,o,i,a,s,l,c,d,f){let u,g;i.addEventListener("contextmenu",e=>{e.preventDefault()}),i.addEventListener("mousedown",e=>{"eraser"===t.currentToolId&&(a.clearRect(u,g,1,1),n=!0,r.beginPath(),r.clearRect(e.offsetX,e.offsetY,1,1),r.fill())}),i.addEventListener("mouseup",()=>{"eraser"===t.currentToolId&&(n=!1,r.beginPath(),u=!1,g=!1,c(o,d(f())))}),i.addEventListener("mouseout",()=>{"eraser"===t.currentToolId&&(a.beginPath(),a.clearRect(u,g,1,1),a.fill(),e())}),i.addEventListener("mousemove",o=>{"eraser"===t.currentToolId&&(e(o.offsetX,o.offsetY),!0===n&&(!1!==u&&!1!==g&&l(u,g,o.offsetX,o.offsetY,r,!0),u=o.offsetX,g=o.offsetY,r.beginPath(),r.clearRect(o.offsetX,o.offsetY,1,1),r.fill()),!1===n&&(a.beginPath(),a.clearRect(u,g,1,1),a.fill(),u=o.offsetX,g=o.offsetY,a.fillStyle="rgba(255,255,255, 0.5)",a.fillRect(o.offsetX,o.offsetY,1,1)))})}(Be,Ue,ue,de,C,x,fe,0,o,Me,De,Ce),"stroke"===ue.currentToolId&&function(e,n,t,r,o,i,a,s,l,c,d,f){let u,g,m,h,p;i.addEventListener("contextmenu",e=>{e.preventDefault()}),i.addEventListener("mousedown",e=>{"stroke"===t.currentToolId&&(n=!0,g=e.offsetX,m=e.offsetY,u=2===e.button?t.secondaryColor:t.primaryColor)}),i.addEventListener("mouseup",e=>{"stroke"===t.currentToolId&&(a.beginPath(),a.clearRect(0,0,o.width,o.height),a.fill(),n=!1,r.beginPath(),u=2===e.button?t.secondaryColor:t.primaryColor,r.fillStyle=u,l(g,m,e.offsetX,e.offsetY,r,!1),c(o,d(f())))}),i.addEventListener("mouseout",()=>{"stroke"===t.currentToolId&&(a.beginPath(),a.clearRect(h,p,1,1),a.fill(),e())}),i.addEventListener("mousemove",r=>{"stroke"===t.currentToolId&&(e(r.offsetX,r.offsetY),!0===n&&(a.beginPath(),l(g,m,h,p,a,!0),h=r.offsetX,p=r.offsetY,a.fillStyle=u,l(g,m,r.offsetX,r.offsetY,a,!1)),!1===n&&(a.beginPath(),a.clearRect(h,p,1,1),a.fill(),h=r.offsetX,p=r.offsetY,a.fillStyle="rgba(255,255,255, 0.5)",a.fillRect(r.offsetX,r.offsetY,1,1)))})}(Be,Ue,ue,de,C,x,fe,0,o,Me,De,Ce),"rectangle"===ue.currentToolId&&function(e,n,t,r,o,i,a,s,l,c,d,f){let u,g,m,h,p;i.addEventListener("contextmenu",e=>{e.preventDefault()}),i.addEventListener("mousedown",e=>{"rectangle"===t.currentToolId&&(n=!0,g=e.offsetX,m=e.offsetY,u=2===e.button?t.secondaryColor:t.primaryColor)}),i.addEventListener("mouseup",e=>{"rectangle"===t.currentToolId&&(a.beginPath(),a.clearRect(0,0,o.width,o.height),a.fill(),n=!1,r.beginPath(),u=2===e.button?t.secondaryColor:t.primaryColor,r.fillStyle=u,l(g,m,e.offsetX,m,r,!1),l(g,m,g,e.offsetY,r,!1),l(e.offsetX,m,e.offsetX,e.offsetY,r,!1),l(g,e.offsetY,e.offsetX,e.offsetY,r,!1),c(o,d(f())))}),i.addEventListener("mouseout",()=>{"rectangle"===t.currentToolId&&(a.beginPath(),a.clearRect(h,p,1,1),a.fill(),e())}),i.addEventListener("mousemove",r=>{e(r.offsetX,r.offsetY),"rectangle"===t.currentToolId&&(!0===n&&(a.beginPath(),l(g,m,h,m,a,!0),l(g,m,g,p,a,!0),l(h,m,h,p,a,!0),l(g,p,h,p,a,!0),h=r.offsetX,p=r.offsetY,a.fillStyle=u,l(g,m,r.offsetX,m,a,!1),l(g,m,g,r.offsetY,a,!1),l(r.offsetX,m,r.offsetX,r.offsetY,a,!1),l(g,r.offsetY,r.offsetX,r.offsetY,a,!1)),!1===n&&(a.beginPath(),a.clearRect(h,p,1,1),a.fill(),h=r.offsetX,p=r.offsetY,a.fillStyle="rgba(255,255,255, 0.5)",a.fillRect(r.offsetX,r.offsetY,1,1)))})}(Be,Ue,ue,de,C,x,fe,0,o,Me,De,Ce),"colorswap"===ue.currentToolId&&function(e,n,t,r,o,i,a,s,l,c,d,f){let u,g,m;i.addEventListener("contextmenu",e=>{e.preventDefault()}),i.addEventListener("mousedown",e=>{if("colorswap"===t.currentToolId){a.clearRect(u,g,1,1),n=!0,r.beginPath(),m=2===e.button?t.secondaryColor:t.primaryColor,r.fillStyle=m;const i=r.getImageData(e.offsetX,e.offsetY,1,1).data,s=Array.from(new Uint8ClampedArray(i)),l=r.getImageData(0,0,o.width,o.height).data,c=Array.from(new Uint8ClampedArray(l)).flat();for(let e=0;e<c.length;e+=1)if(c[e]===s[0]&&c[e+1]===s[1]&&c[e+2]===s[2]&&c[e+3]===s[3]){const n=Math.floor(e/o.width/4),t=Math.floor(e/4)-o.width*n;r.fillRect(t,n,1,1)}}}),i.addEventListener("mouseup",()=>{"colorswap"===t.currentToolId&&(n=!1,r.beginPath(),c(o,d(f())))}),i.addEventListener("mouseout",()=>{"colorswap"===t.currentToolId&&(a.beginPath(),a.clearRect(u,g,1,1),a.fill(),e())}),i.addEventListener("mousemove",r=>{"colorswap"===t.currentToolId&&(e(r.offsetX,r.offsetY),!1===n&&(a.beginPath(),a.clearRect(u,g,1,1),a.fill(),u=r.offsetX,g=r.offsetY,a.fillStyle="rgba(255,255,255, 0.5)",a.fillRect(r.offsetX,r.offsetY,1,1)))})}(Be,Ue,ue,de,C,x,fe,0,0,Me,De,Ce),"lighter"===ue.currentToolId&&function(e,n,t,r,o,a,s,l,c,d,f,u){let g,m,h,p;a.addEventListener("contextmenu",e=>{e.preventDefault()}),a.addEventListener("mousedown",e=>{"lighter"===t.currentToolId&&(s.clearRect(g,m,1,1),n=!0,r.beginPath(),2===e.button?(h=i(r,e,!1),p=!0):h=i(r,e,!0),r.fillStyle=h,r.fillRect(e.offsetX,e.offsetY,1,1))}),a.addEventListener("mouseup",e=>{"lighter"===t.currentToolId&&(2===e.button&&(p=!1),n=!1,r.beginPath(),g=!1,m=!1,d(o,f(u())))}),a.addEventListener("mouseout",()=>{"lighter"===t.currentToolId&&(s.beginPath(),s.clearRect(g,m,1,1),s.fill(),e())}),a.addEventListener("mousemove",o=>{"lighter"===t.currentToolId&&(e(o.offsetX,o.offsetY),!0===n&&(!1!==g&&!1!==m&&0!==r.getImageData(o.offsetX,o.offsetY,1,1).data[3]&&0!==r.getImageData(g,m,1,1).data[3]&&g!==o.offsetX&&m!==o.offsetY&&c(g,m,o.offsetX,o.offsetY,r,!1,i,p),g=o.offsetX,m=o.offsetY,r.beginPath(),h=i(r,o,!0!==p),r.fillStyle=h,r.fillRect(o.offsetX,o.offsetY,1,1)),!1===n&&(s.beginPath(),s.clearRect(g,m,1,1),s.fill(),g=o.offsetX,m=o.offsetY,s.fillStyle="rgba(255,255,255, 0.5)",s.fillRect(o.offsetX,o.offsetY,1,1)))})}(Be,Ue,ue,de,C,x,fe,0,o,Me,De,Ce),"paintcanvas"===ue.currentToolId&&function(e,n,t,r,o,i,a,s,l,c,d,f){let u,g,m;i.addEventListener("contextmenu",e=>{e.preventDefault()}),i.addEventListener("mousedown",e=>{"paintcanvas"===t.currentToolId&&(a.clearRect(u,g,1,1),n=!0,r.beginPath(),m=2===e.button?t.secondaryColor:t.primaryColor,r.fillStyle=m,r.fillRect(0,0,o.width,o.height))}),i.addEventListener("mouseup",()=>{"paintcanvas"===t.currentToolId&&(n=!1,r.beginPath(),c(o,d(f())))}),i.addEventListener("mouseout",()=>{"paintcanvas"===t.currentToolId&&(a.beginPath(),a.clearRect(u,g,1,1),a.fill(),e())}),i.addEventListener("mousemove",r=>{"paintcanvas"===t.currentToolId&&(e(r.offsetX,r.offsetY),!1===n&&(a.beginPath(),a.clearRect(u,g,1,1),a.fill(),u=r.offsetX,g=r.offsetY,a.fillStyle="rgba(255,255,255, 0.5)",a.fillRect(r.offsetX,r.offsetY,1,1)))})}(Be,Ue,ue,de,C,x,fe,0,0,Me,De,Ce),"rainbow"===ue.currentToolId&&function(e,n,t,r,o,i,a,s,l,c,d,f){let u,g;i.addEventListener("contextmenu",e=>{e.preventDefault()}),i.addEventListener("mousedown",()=>{if("rainbow"===t.currentToolId){a.clearRect(u,g,1,1),n=!0;for(let e=0;e<o.width;e++)for(let n=0;n<o.height;n++)r.beginPath(),r.fillStyle=`rgba(${Math.floor(255*Math.random())}, ${Math.floor(255*Math.random())}, ${Math.floor(255*Math.random())}, 1)`,r.fillRect(e,n,1,1)}}),i.addEventListener("mouseup",()=>{"rainbow"===t.currentToolId&&(n=!1,r.beginPath(),c(o,d(f())))}),i.addEventListener("mouseout",()=>{"rainbow"===t.currentToolId&&(a.beginPath(),a.clearRect(u,g,1,1),a.fill(),e())}),i.addEventListener("mousemove",r=>{"rainbow"===t.currentToolId&&(e(r.offsetX,r.offsetY),!1===n&&(a.beginPath(),a.clearRect(u,g,1,1),a.fill(),u=r.offsetX,g=r.offsetY,a.fillStyle="rgba(255,255,255, 0.5)",a.fillRect(r.offsetX,r.offsetY,1,1)))})}(Be,Ue,ue,de,C,x,fe,0,0,Me,De,Ce),"colorpicker"===ue.currentToolId&&function(e,n,t,r,o,i,a){let s,l;i.addEventListener("contextmenu",e=>{e.preventDefault()}),i.addEventListener("mousedown",n=>{if("colorpicker"===r.currentToolId){a.clearRect(s,l,1,1),t=!0;const i=o.getImageData(n.offsetX,n.offsetY,1,1).data;if(0!==i[3]){const t=function(e,n,t){return e=e.toString(16),n=n.toString(16),t=t.toString(16),1===e.length&&(e=`0${e}`),1===n.length&&(n=`0${n}`),1===t.length&&(t=`0${t}`),`#${e}${n}${t}`}(i[0],i[1],i[2]);2===n.button?r.secondaryColor=t:r.primaryColor=t,e(r.primaryColor,r.secondaryColor)}}}),i.addEventListener("mouseup",()=>{"colorpicker"===r.currentToolId&&(t=!1)}),i.addEventListener("mouseout",()=>{"colorpicker"===r.currentToolId&&(a.beginPath(),a.clearRect(s,l,1,1),a.fill(),n())}),i.addEventListener("mousemove",e=>{"colorpicker"===r.currentToolId&&(n(e.offsetX,e.offsetY),!1===t&&(a.beginPath(),a.clearRect(s,l,1,1),a.fill(),s=e.offsetX,l=e.offsetY,a.fillStyle="rgba(255,255,255, 0.5)",a.fillRect(e.offsetX,e.offsetY,1,1)))})}(Le,Be,Ue,ue,de,x,fe)}onkeypress=e=>{"KeyP"===e.code?ge(0,U):"KeyC"===e.code&&ge(0,L)},T.onclick=e=>{if("IMG"!==e.target.tagName)return;ge(0,e.target.closest(".btn"))},H.onclick=e=>{if("IMG"!==e.target.tagName)return;!function(e,n){"fliphorizontal"===n.id&&a("horizontal",de,C,Me,De,Ce),"flipvertical"===n.id&&a("vertical",de,C,Me,De,Ce),"rotateleft"===n.id&&s("left",de,C,Me,De,Ce),"rotateright"===n.id&&s("right",de,C,Me,De,Ce)}(0,e.target.closest(".btn"))};let me=0;const he=512,pe=200,Ae=128;let ve=32,be=32;function we(e,n,t){e.width=ve,e.height=ve,e.style.transform=`scale(${n/e.width}, ${n/e.height})`,e.style.marginTop=`${(n-e.height)/2-t}px`,e.style.marginLeft=`${(n-e.width)/2-t}px`}function ye(){be=ve;const e=((ve=J.value)-be)/2;we(C,he,1),we(x,he,1),we(I,pe,0);for(let n=0;n<b.children.length-1;n++){const t=De(n).getContext("2d").getImageData(0,0,be,be);we(De(n),Ae,0),De(n).getContext("2d").putImageData(t,e,e),k[n]=De(n).toDataURL("image/png")}Me(De(Ce()),C),Be()}function Be(e,n){F.innerHTML=e&&n?`[${J.value}x${J.value}]: ${e}x${n}`:`[${J.value}x${J.value}]`}function Ce(){return me}function xe(e){let n;e.classList?"frameBox"!==e.classList.value&&"frameBox current"!==e.classList.value||(n=e):n=e.target.closest(".frameBox");const t=[];for(let e=0;e<b.children.length-1;e++)t.push(b.children[e]);return t.indexOf(n)}function Ee(e){for(let e=0;e<b.children.length-1;e++)b.children[e].classList.remove("current"),b.children[e].children[2].innerHTML=e+1;b.children[e].classList.add("current"),Me(De(e),C),b.children.length-1==1?b.children[0].children[1].classList.add("hide"):b.children[0].children[1].classList.remove("hide")}function De(e){return b.children[e].lastElementChild}function Fe(){de.beginPath(),de.clearRect(0,0,C.width,C.height),de.fill()}function Ie(){y.insertAdjacentHTML("beforebegin",'\n    <div class="frameBox">\n        <button class="copy"><img class="copyImg" src="src/icons/frame-copy.png" alt="frame-copy.png"></button>\n        <button class="del"><img class="delImg" src="src/icons/frame-del.png" alt="frame-del.png"></button>\n        <div class="frameNumber"></div>\n        <canvas class="frame" width="32" height="32"></canvas>\n    </div>\n  '),we(De(me=b.children.length-2),Ae,0),k[me]=De(me).toDataURL("image/png"),Ee(me)}function Se(e){let{target:n}=e;const t=()=>((n=n.parentNode).classList.contains("frameBox")||t(),n);return t()}ye(),J.onchange=()=>{ye()},b.onclick=e=>{"frame"===e.target.classList.value&&Ee(me=xe(e))},function(){Fe();const e=De(0).getContext("2d");Ee(me),e.beginPath(),e.clearRect(0,0,De(0).width,De(0).height),k[me]=De(0).toDataURL("image/png")}(),w.addEventListener("click",()=>{Ie(),Fe()}),document.addEventListener("click",e=>{"copyImg"!==e.target.classList.value&&"copy"!==e.target.classList.value||function(e){me=xe(Se(e)),b.children[me].insertAdjacentHTML("afterend",'\n    <div class="frameBox">\n      <button class="copy"><img class="copyImg" src="src/icons/frame-copy.png" alt="frame-copy.png"></button>\n      <button class="del"><img class="delImg" src="src/icons/frame-del.png" alt="frame-del.png"></button>\n      <div class="frameNumber"></div>\n      <canvas class="frame" width="32" height="32"></canvas>\n    </div>\n  ');const n=De(me);k.splice(me,0,De(me).toDataURL("image/png")),we(De(++me),Ae,0),Me(n,De(me)),Ee(me)}(e),"delImg"!==e.target.classList.value&&"del"!==e.target.classList.value||function(e){const n=xe(Se(e));document.getElementById("frames").removeChild(Se(e)),k.splice(n,1),Ce()>=n&&0!==Ce()&&me--,Ee(me)}(e)}),document.addEventListener("contextmenu",e=>{e.preventDefault()});let Re,ke=0;function Te(){Re&&clearInterval(Re),Re=setInterval(()=>{!function(e){const n=new Image;n.src=e,S.clearRect(0,0,I.width,I.height),S.drawImage(n,0,0)}(k[ke%k.length]),ke++},1e3/E.value)}Te(),E.onmousemove=()=>{D.innerHTML=`${E.value.toString()} FPS`},E.onmouseup=()=>{Te()},B.onclick=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():I.requestFullscreen()};let Ue=!1;function Le(e,n){N.value=e,X.value=n}function Me(e,n){const t=e.getContext("2d").getImageData(0,0,ve,ve);n.getContext("2d").putImageData(t,0,0),k[Ce()]=De(Ce()).toDataURL("image/png")}Le(ue.primaryColor,ue.secondaryColor),z.onclick=()=>{const e=ue.primaryColor;ue.primaryColor=ue.secondaryColor,ue.secondaryColor=e,Le(ue.primaryColor,ue.secondaryColor)},N.onchange=()=>{ue.primaryColor=N.value},X.onchange=()=>{ue.secondaryColor=X.value}}]);
//# sourceMappingURL=app.bundle.js.map